Grazie. Grazie. Grazie. Buongiorno. Ciao, buongiorno. Come stai? Tutto bene? Sì, sì, bene. Lei? Bene, tutto bene. Allora, un secondo solo che accendo... Eccoci qua. Se la posso togliere perché non c'è nessuno in aula. Allora, dunque, come è andata ieri? Hai iniziato a farti un'idea un po' più precisa di come funziona il linguaggio di programmazione di R? Sì, più o meno sì. Solo nella lezione. Però devo fare delle revisioni oltre alla lezione. Ok. Cosa intendi? Cosa significa revisione? Cosa intendi per revisione? Fare delle cose, degli esercizi... Ok. A parte dalle lezioni. Va bene, va bene. E questi li puoi tranquillamente andare avanti con il corso che abbiamo visto che è gratuito, quello del Data Camp, che si chiama Introduction to R. e io praticamente abbiamo in qualche modo saltato il primo blocco di lezioni che... secondo me condivido il mio schermo. aperto per aprovarsi per gestire il per l'area Grazie. Ora, quello che noi abbiamo fatto, guardiamo un secondo la struttura del corso. Abbiamo schippato intro to basics, dove praticamente insegnava a fare i calcoli con la console e assegnare le variabili. Ma assegnare le variabili abbiamo capito come si fa, se si fa attraverso quel simbolo della freccettina con il meno. E dice, c'era anche un'introduzione ai vari datatypes di R. Andiamo a vedere un secondo sempre l'outline di questo modulo, diciamo. E andiamo a guardare queste ultime due voci. L'assegnazione di i datatype su R. Anche questo ovviamente è una caratteristica che ha in comune con tutti i linguaggi di programmazione, direi. Ma quello che ci interessa è vedere appunto che ci sono datatypes di tipo numerico, quando contengono dei numeri decimali o interi quando non li contengono, datatypes tipo booleano e datatypes tipo string oppure text. E questo insomma lo sapevamo abbastanza. Torniamo un attimo al course outline. E qui ci dà un'indicazione su come facciamo a conoscere il datatype che caratterizza la variabile con la quale stiamo lavorando. e c'è questa funzione class che vedi qui, che data passata a una variabile ci restituisce la classe, il datatype al quale la variabile appartiene. Questo perché? Perché se noi proviamo a fare questa operazione che vedi qui, 5 più fix come stringa, ovviamente R restituisce un errore, perché stiamo cercando di sommare una variabile di tipo intero, integer con una stringa. Ok. Dopodiché abbiamo iniziato a vedere la parte sui vettori, che abbiamo quasi finito, e poi faremo quelle sulle matrici, i fattori, i data frame, e infine le liste. Queste cose che tu vedi qui, vettori, matrici, fattori, data frames, che sono spesso le strutture più importanti quando si lavora con R, perché i data, sono quasi tutti data frames. Per un secondo che devo chiudere la porta, perché viene rumore. Scusa. Eccoci. Allora, i data frame, dicevo, vedremo che sono quelli più utilizzati in assoluto, e poi vedremo anche cosa sono le liste, che questo è un tipo di struttura che è piuttosto comune tra tutti i linguaggi di programmazione. Ok. Allora, riprendiamo il nostro lavoro su i vettori. Eravamo arrivati a quasi completare il percorso. vediamo Advanced Selection. Allora, ti ricordi che stiamo lavorando con questi vettori del poker e della roulette, e gli avevamo attribuito dei nomi relativi alle giornate della settimana. E abbiamo anche imparato a vedere come selezionavano gli elementi di un vettore usando le parentesi quadre, usando gli indici dei singoli elementi, usando i due punti come, diciamo, l'indicatore da questo elemento a questo elemento, oppure addirittura usando i nomi che abbiamo attribuito agli elementi come voce per richiamare il contenuto, il valore dell'elemento stesso. Allora, in questo caso, dice, così come abbiamo fatto poi il poker, vogliamo vedere, vogliamo conoscere quegli giorni abbiamo guadagnato attraverso la roulette, quindi facciamo un lavoro simile con la roulette. Dice, crea una variabile selection vector, questa volta per vedere se abbiamo fatto profitti con la roulette per i diversi giorni. Ricordi come si faceva? Sì, facciamo poker vector più grande di zero. Ok, in questo caso è roulette vector, perché siamo lavorando su roulette. Maggiore di zero. E fin qua ci siamo. E dopo dice, assegnare i vari valori, diciamo, selezionando da da selection vector quelli che contengono un valore positivo. Ricordi come si faceva? Assiniamo selection vector a roulette winning days, no? Ok. poi e basta. Dovrebbe già darci il risultato. Vediamo. Ovviamente dobbiamo vedere cosa c'è dentro roulette winning days. spero. E' esattamente il un elenco di vettori che contiene però mi sa che abbiamo bisogno dei valori che ci sono dentro dentro selection vector. proviamo a vedere se è giusto mi sembri no? Infatti no. Ehm quello che eh quello che noi vogliamo è selezionare eh da roulette vector eh tutti eh eh i valori eh indicati in selection vector quindi eh fondamentalmente prendiamo roulette vector e diciamo di roulette vector prendimi solo i valori positivi che sono indicati in selection vector cioè tutti eh quella eh quella quel quel quel vettore di true e false che abbiamo visto proviamo a eseguirlo vediamo cosa c'è stavolta dentro eh roulette winning days e effettivamente ci sono solo i giorni in cui abbiamo guadagnato crediamo che sia così eh c'è il mercoledì e il venerdì quanto abbiamo guadagnato 110 ok sì sì ok perfetto possiamo passare eh a le matrici le matrici eh sono delle strutture dati eh tabulari eh che però contengono solo valori numerici eh in questo caso eh eh possono anche essere scusa valori numerici valori eh di di di di stringa o booleani eh ma eh non possono essere misti fondamentalmente questa è la grande differenza tra le matrici e le eh eh i data frame eh eh le matrici sono bidimensionali dice eh si può costruire una matrice con il valore eh matrici con la funzione matrix eh eh in questa funzione nella funzione matrix che vedi qui eh il primo argomento è eh il il diciamo gli elementi eh che verranno inseriti nelle righe nelle colonne eh in questo caso in pratica i passi uno due punti nove che significa i valori un vettore che va da uno a nove quindi quello che eh quello che vedi qui il tipo di argomento eh eh di by row indica se la matrice deve essere riempita eh attraverso le righe o viceversa attraverso le colonne e il terzo argomento è il row che indica quante eh righe deve avere la matrice l'esercizio dice costruita una matrice con tre righe eh contenenti i numeri da uno a nove eh messi eh organizzati per riga e qui diciamo è molto semplice perché lui ci dà già qui il risultato eh i numeri da uno a nove per riga eh in eh in una struttura che ha tre eh che ha tre righe seguiamo il codice e vedi cosa viene fuori è una matrice eh che ha i numeri da uno a nove organizzati per riga eh e in eh eh in tre per un totale di tre righe chiaro? sì sì chiaro ok andiamo avanti ok eh nell'esercizio seguente eh organizzeremo eh eh diciamo il il numero di miglietti venduti eh al box office eh di film di guerre stellari eh eh eh e eh eh nell'editor ci sono tre vettori che vengono definiti New Hope Empire Strikes e Jedi che sono ovviamente tre film della saga di guerre stellari ehm il primo elemento eh di ogni vettore indica eh il ehm quanto ha guadagnato al box office eh quel film eh il secondo si riferisce a quanto ha guadagnato ehm fuori dagli Stati Uniti ehm e in questo esercizio eh combineremo tutti questi questi numeri eh in un unico vettore e poi faremo costruiremo una matrice eh di eh da questo eh allora dice eh creiamo una eh eh eh unico unico vettore a partire eh da eh i tre vettori che abbiamo creato per creare un unico vettore sappiamo che si fa così con combine si possono passare i tre vettori e abbiamo il nostro box office questo ci dice eh costruite una matrice con tre righe eh dove eh ciascuna riga rappresenta un film eh usate la funzione matrix eh per farlo eh il primo argomento eh è il vettore box office contenente tutti i valori che noi abbiamo eh il secondo argomento eh è eh by row che deve essere stato true e il terzo argomento è il numero di righe che nel nostro caso è tre chiamate questo eh questo questa matrice eh star wars matrix cosa dobbiamo fare eh matrice eh matrix trapparentisi trapparentisi eh box office virgola eh by row uguale true virgola n row uguale tre esatto ok ho sbagliato perché qui c'è una R vedendo possiamo anche andare a vedere cosa c'è dentro e ci sono eh i nostri eh eh eh valori eh che rappresentano quanto eh i tre film abbiano guadagnato nel box office eh US nel box office fuori dagli Stati Uniti eh organizzati come avevamo richiesto di fare eh a questo punto dice proviamo a dare dei nomi a queste eh a questa matrice che abbiamo costruito ehm eh eh eh eh eh eh questo ci consentirà di leggere i dati attraverso questi nomi ma è anche utile per ricordarsi cosa c'è probabilmente dentro una matrice eh per dare i nomi alle matrici si fa esattamente come si fa eh per i vettori eh eh eh e eh vedi vedi qui che creano due vettori di nomi region e titles e l'esercizio consiste nell'assegnare questi due vettori di nomi al eh eh alla nostra matrice usando le funzioni row names codenames eh nel primo esercizio si dice usate call names eh per nominare eh le eh eh colonne di eh star wars star wars matrix usando il vettore region quindi vai pure dimmi parentesi star wars matrix freccia eh underscore regione region ok questo è uno call names call names no call names hai ragione e invece nelle eh nel pro names saranno titles mettiamo titles sono sicuro che sia giusto eh quindi ah poi dice print eh la matrice ok vedi che abbiamo attribuito i nomi alle nostre eh alla nostra tabella eh a questo punto eh vogliamo calcare le somma la somma del eh di quanto abbiamo dentro la nostra eh matrice eh in ciascuna riga cioè quanto ha guadagnato in totale il singolo film eh è abbastanza semplice perché eh si usa una funzione appunto che si chiama row sums e bisogna passargli la matrice vediamo cosa c'è esattamente dentro questo worldwide vector abbiamo eh i tre film con quanto hanno guadagnato eh in totale eh nel box office americano e in quello non americano direi che questo è abbastanza facile ci siamo un po' di per avanti eh a questo punto eh eh vogliamo eh aggiungere un nome eh eh una colonna eh al nostro eh al nostra matrice con eh i guadagni eh complessivi di questi film ehm per fare questo eh abbiamo eh un comando eh che si chiama eh eh cbind eh che consente di aggiungere una o più colonne eh a eh un eh a una matrice eh in questo caso vedo l'esempio Big Matrix eh unisce due matrici ed un vettore eh questo eh l'esercizio che ci che ci eh fa fare eh dice eh worldwide vector eh come una nuova colonna eh e aggiungere worldwide vector come una nuova colonna eh di eh della nostra praticamente matrice originale cioè quindi eh vogliamo avere i eh guadagni del box office americano di quello fuori dall'America e poi la somma di eh questi per fare questo dobbiamo usare eh cbind come faresti sicuramente ok dobbiamo unire queste queste matrici ci sei? Sì sì ok praticamente dobbiamo aggiungere eh worldwide vector a star wars matrix è molto molto semplice praticamente star star wars matrix virgola worldwide vector esatto andiamo a vedere cosa c'è dentro abbiamo le nostre tre colonne us non us e worldwide ok a questo punto eh invece ci insegna eh come eh aggiungere una riga piuttosto che eh una una colonna eh come come esiste eh eh cbind esiste rbind ehm in questo caso dice eh eh eh nel nostro workspace dr eh dove tutte le nostre variabili sono definite live eh eh è stato già inizializzato per eh contenere due eh matrici eh star wars matrix eh e eh star wars matrix 2 eh volendo possiamo vedere cosa contengono allora star wars matrix ha eh la nostra matrice con le due colonne eh US non US e tre film star wars matrix 2 ha eh la eh matrice eh eh con eh valori eh diversi US non US ah per altri tre film ok eh eh dice ora queste matrice appunto eh con eh con la console eh ci fa vedere anche un altro comando che può essere utile eh che è LS LS in pratica un po' come in Linux ci dà eh il eh contenuto della della dell'ambiente di R cioè quali variabili abbiamo o strutture date abbiamo inizializzato cioè ci sono queste due strutture date dice usate eh Rbind eh per eh unire fondamentalmente eh queste due eh matrici eh aggiungendo eh le rispettive righe penso sia molto semplice quindi non te lo sto neanche a chiedere e dovrebbe essere così dobbiamo vedere che cosa abbiamo fatto e abbiamo adesso sei film nella nostra nella nostra matrice ok ehm a questo punto eh ci dice così come eh si binda il suo corrispettivo in Rbind col Sam ha il suo rispettivo in Raw Sam quindi noi a questo punto vogliamo sapere quanto abbiamo guadagnato al box office americano e eh non americano eh sul totale dei film ehm di eh guerre stellari ehm eh ci passa già una prima matrice che è quella che abbiamo costruito penso nell'altro esercizio eccola qui ehm e ci dice eh usare col Sam per eh creare eh questo total revenue vector come dobbiamo fare è abbastanza semplice sinceramente perché dobbiamo semplicemente usare col Sam e passare il nostro eh vettore che ci ha ci ha costruito poi ci dice scrivere a video eh il contenuto di eh total revenue vector vediamo cosa abbiamo combinato abbiamo combinato con eh matrice abbiamo costruito una matrice che ha la somma dei guadagni US per tutti i film di guerre stellari ok come si selezionano i valori eh di una eh matrice si usano le score brackets le parentesi quadre così come eh abbiamo visto fare per i eh vettori per selezionare uno o più eh elementi di una matrice eh si può eh usare eh la stessa sintassi che abbiamo visto per i vettori quindi usare gli indici usare eh i due punti per dire da questo a questo eh usare eh dei vettori di eh diciamo di di spazi eh e anche eh selezionare le intere righe o tutte le tutte le eh tutti gli elementi della prima colonna tutti gli elementi della prima riga usando questa sintassi virgola uno per le colonne e uno virgola per le righe eh quindi torniamo alla questione al nostro esempio di Guerre Stellari eh abbiamo Star Wars Matrix già in memoria e quello che vogliamo fare è selezionare eh i eh eh le revenue i guadagni eh di tutti i film eh eh ma non quelli americani ma quelli fuori dagli Stati Uniti eh quindi praticamente la seconda colonna di eh All Matrix eh eh mi vorrei direi risultati in non US All come faresti? All Wars Matrix eh parenti di quattro virgola eh virgola due no? Dove si trova? Virgola? è la seconda colonna ok vediamo che cosa abbiamo fatto poi intanto vediamo cosa c'è qua detto così siamo sicuri che sia la seconda colonna no US è la seconda colonna a questo punto eseguiamo il nostro codice vediamo vediamo vediamo cosa c'è in non US All ci sono i valori eh della eh seconda colonna per ciascun film ehm a questo punto ci dice usate la media eh su questo nuovo vettore che abbiamo eh questa nuova eh matrice che abbiamo creato per eh sapere in media quanto abbiamo guadagnato quanto hanno guadagnato dai film di eh guerre stellari fuori dall'Europa dai sei film che abbiamo presso in analisi quindi qui bisogna usare la funzione min come come faresti mi non non non non non non non non cosa c'è la media è 347 milioni di eh dollari ehm adesso eh dice selezionate eh é solo eh le prime due i primi due valori di non us all quindi dobbiamo prendere il nostro non us all e poi i primi due film quindi le prime due si proviamo 12 12 punti 2 vediamo che cosa abbiamo fatto come scusate non dobbiamo aggiungere delle colonne no virgola 1 2 punti 2 andiamo numero di dimensioni non corretto noi dobbiamo prendere i primi due film la nostra matrice no ios all faccio di nuovo vedere dobbiamo prendere 1 e 2 se guardi un attimo qui si qui diciamo confonde un pochino perché la in realtà i titoli non sono parte dei dati sono semplicemente dei nomi che sono stati attribuiti quindi la dobbiamo prendere praticamente proprio i primi due valori qui dobbiamo prendere le prime due colonne e della prima riga giusto si ok come possiamo fare prima due colonne secondo me 1 2 punti 2 va bene e la prima riga come come gliela indichiamo però così vediamo cosa viene sembra sembra simile a quello che volevamo ottenere si ok probabilmente si fa così per prendere i primi due elementi semplicemente gli si fa dal riferimento alla nostra agli elementi stessi il quarto la quarta cosa che ci chiede di fare è fare la media dei valori dentro non us sum questo è estremamente semplice perché è uguale a ciò che abbiamo fatto prima quindi lo faccio io seguiamo il nostro codice la media 281 e inviamola la risposta ok un po' di aritmetica delle matrici così come i vettori si possono si possono sommare sottrarre dividere moltiplicare anche lo stesso si può fare per le matrici per esempio se io faccio due per my matrix moltiplico ciascun elemento della di my matrix dice come nuovo assunto come data analista la lucasfilm che sono quelli che producono i due film di guerra stellari il tuo lavoro è di calcolare quanti visitatori sono andati a vedere ciascun film per ciascuna area geografica sappiamo già qual è il il total revenue supponiamo che il prezzo del biglietto sia 5 dollari quindi dividendo il numero il valore del guadagno in box office per 5 dovremo ottenere il numero dei visitatori dice dividere la matrice all star wars per 5 assegnando il risultato a visitors come facciamo 5 lascio 5 perfetto e qui ci dice scrivete il risultato slash 5 perfetto e poi ci dice scrivete il risultato e abbiamo la nostra matrice con il numero di persone che hanno guardato il film nei Stati Uniti e nel fuori dei Stati Uniti è molto molto semplice ancora aritmetica con le matrici dice così come per due moltiplica ogni elemento della mia matrice per due io posso moltiplicare una matrice per un'altra creando una matrice dove ciascun elemento è il prodotto degli elementi corrispondenti di MyMatrix1 e MyMatrix2 dopo aver visto il presente esercizio il nostro capo Lucas mette l'evidenza che i prese dei biglietti sono aumentati durante il corso degli anni e quindi bisogna rifare l'analisi tenendo conto che i biglietti sono aumentati andiamo a vedere cosa c'è nelle matrici che ci ha dato nella prima ci sono quanto abbiamo guadagnato i US fuori dai US nella seconda c'è il prezzo del biglietto e quello che dobbiamo fare è moltiplicare una matrice per l'altra quindi è veramente molto semplice dice per chi merita con le matrici dovrebbe notare che questo non è il modo standard di fare le moltiplicazioni che dovrebbe utilizzare invece per cento asterisco per cento dice ok ovviamente non è la moltiplicazione ma la divisione dividete la matrice all star wars per il prezzo dei biglietti in modo tale da avere una stima di rivistratori in US fuori dai US e infine calcolare la media dice della della della colonna della matrice visitors visitors vogliamo prendere solo la colonna US e poi calcolare la media dei visitatori a ciascun film negli Stati Uniti allora il primo esercizio c'è la prima richiesta l'ho fatta io come si fa a selezionare da visitors della matrice visitors solo la prima colonna virgola uno virgola uno seguiamo questo codice e andiamo a vedere se US visitors c'è quello che ci interessava in realtà abbiamo i valori dei visitatori a questi film negli Stati Uniti a questo punto dobbiamo calcolare la media e qui in realtà è molto molto semplice si fa la funzione in media ok la media è 75 vediamo se abbiamo fatto tutto bene abbiamo finito il nostro capitolo sulle matrici adesso passiamo ai fattori i fattori sono dei delle dei un tipo di dati dove fondamentalmente il valore è incluso in una specifica lista di solito questo viene utilizzato quando tu hai le risposte a un questionario e hai una domanda che riguarda il genere della persona che compila il questionario e le possibili risposte possono essere maschio o femmina quindi in questo caso il fattore è M S appunto sono un numero di categorie limitato R sa quando sta avendo a che fare con variabili continue o categoriali quindi questa è un'importante differenza quando si fa statistica e quindi userà questa informazione per scegliere il modello giusto in caso uno costruisse appunto un modello un buon esempio di categoria di variabile categorica di tipo fattore appunto male female diceva beh potresti utilizzare altre altre categorie ma non importa che sia un numero finito allora segnare alla variabile theory il valore factors a questo punto dobbiamo creare un vettore che contiene le risposte al nostro questionario in questo caso vedi che crea un vettore che si chiama sex vector che chiaramente fino a quando tu non specifichi il tipo di variabile di data type su quale stai lavorando lui lo considererà un vettore di stringhe un vettore che contiene uno due tre quattro cinque stringhe quindi dobbiamo dirgli che questo vettore di stringhe in realtà contiene dei fattori e quindi i valori in ciascun elemento possono solo essere due mail o female per fare questo si usa appunto la funzione factor sul vettore che abbiamo appena creato a questo punto possiamo fargli scrivere i valori di factor sex vector ci sei? è chiaro fin qua? scusi la connessione è andata via ok dove andata via a che punto? avevo detto che la connessione è andata via è appena ritornata a che punto quando lei ha spiegato sex vector è fondamentalmente sex vector è una stringa di vettori di tipo una stringa di valori di tipo testo quando noi però usiamo la funzione factor su questa stringa lo trasformiamo in un fattore tant'è vero che quando noi andiamo poi a scrivere questa variabile vedi che ci dice i valori ma sotto c'è anche una voce che dice levels punti female male ok? si si è chiaro ok andiamo avanti allora perché si usano i fattori appunto l'avevo un po' anticipato anche prima ci sono due tipi di variabili categoriali quelle nominali e ordinali quelle nominali fondamentalmente non hanno una qualche tipo di ordine mentre quelle categoriali hanno questo tipo di ordine adesso non so ebrahim se tu hai fatto un po' di statistica nel tuo corso precedente no no non l'ho fatto però avevo un credo che un un corso nel secondo semestre che fa la statistica un po' di statistica lo facciamo ok va bene e quando lo farai scoprirei appunto che ci sono queste categorie di variabili quelle nominali e quelle ordinali quelle nominali sono caratterizzate dal fatto che non c'è un ordine specifico che le distingue mentre quelle ordinali possono essere ordinate secondo la logica ad esempio la classica variabile categoriale ordinale è la scala Likert che è una scala tipica che si usa nei questionari quella che dice quanto sei d'accordo con questo molto abbastanza poco per nulla questi valori non sono quattro valori che non hanno nessuna relazione tra di loro ma sono quattro valori che vanno a come dire caratterizzare un grado di accordo così come nell'esempio che vediamo qui abbiamo un animal vector di tipo categoriale quindi nomi di animali e un temperature vector che invece è di tipo ordinario ordinale da high fino a medium e c'è anche low eccetera ok dice submit the answer to check how are constructed print nominal ordinal value ok prima se do il codice qui non c'è niente da fare semplicemente dai seguire il codice e vedi come lui distingue fra i valori ordinali e quelli categoriali di vettori e vedi vettore contenente fattori categoriali e vedi qui invece che lui ha riconosciuto che appunto c'è un ordine grazie a quest'altro comando all'interno di questi fattori dove i livelli sono low medium e height e c'è un ordine per cui low è minore di medium e minore di height chiaro? per il categoric tipo fa in ordini alfabetico no? Sì giusto gli dà un ordine no ma neanche di e sì un ordine alfabetico sì cioè quando restituisce i livelli lo fa in ordine alfabetico invece nelle ordinali gli si può specificare che i valori del fattore hanno un valore specifico ok allora dice quando ti viene forito un dataset si può osservare se contiene dei fattori con specifici livelli fattori tuttavia alcune volte uno può voler o dover cambiare i nomi di questi livelli per chiarezza o per altre ragioni per fare questo c'è una funzione di r che ci consente di rinominare i nomi dei fattori ed è levels una buona illustrazione e nei dati che sono forniti per una survey di solito una domanda classica è quella del genere e le risposte cui sono state codificate come M lf e quello che ne vogliamo fare è trasformarlo per chiarezza in mail e female dice attenzione perché l'ordine con il quale vengono assegnati i livelli è importante se scrivi level factors survey vector vedrai che l'ordine che viene restituito è FM se non specifici livelli a cui i fattori appartengono R automaticamente assegnerà questi valori in ordine alfabetico come tu avvi notato e quindi per essere sicuri che F sia mappato correttamente su F male su M i livelli devono essere settati in questo ordine female male andiamo a vedere che cosa fa qui abbiamo appunto questa factor survey vector che contiene dentro vedi che i livelli sono FM e quindi a questo punto noi dobbiamo rinominarli in female e male come faresti sì tra parentesi male female female male male no perché noi stiamo rinominando i livelli quando tu fai i levels rinomini solo i livelli i livelli sono F e M quindi female male esatto andiamo a vedere se il risultato è quello che ci attendevamo sì vedi abbiamo adesso i nostri livelli che si chiamano female e male e anche i valori all'interno sono stati sostituiti e sono stati sostituiti correttamente dice quando finirete questo corso scoprirete che una delle vostre funzioni preferite è in R e summary summary da un overview di una serie di caratteristiche del dataset con il quale tu hai a che fare alla fine di solito quali sono questi questionari uno vuole sapere ok ma quanti maschi e quanti femmine io ho fra i rispondenti per fare questo bisogna usare la funzione summary allora qui dice generate un summary per survey vector che è questo qua e poi generate un summary per factor survey vector allora quando vado a fare summary di vector senza aver specificato che si trattava di fattori e quali fattori ottengo questo risultato qui la lunghezza del vettore 5 il tipo è stringa caratteri e il mode caratteri questo non ci interessa invece quando vado a fare summary su factor survey vector vedi vedi che il risultato è la tabella che uno si poteva immaginare e che volevamo come risultato giusto? forse vorrei sapere cosa succede quando si comparano gli elementi in un fattore in factor survey vector abbiamo un fattore dove ci sono due elementi male e female ma come si relazionano l'uno con l'altro dice provate a seguire il codice per vedere se male è maggiore di female e vedete che il risultato è che maggiore non è non è possibile insomma comparare questi due valori perché sappiamo che si tratta di una variabile con una scala di tipo come l'abbiamo chiamata ti ricordi? come prof? come abbiamo chiamato le scale ce ne sono due tipi no? cardinale e ordinale sì questa qui è ordinale o cardinale? questa qui è cardinale è cardinale perché non c'è non è che male maggiore di female o female maggiore di male tant'è vero che quando noi andiamo a fare male maggiore di female ci restituisce un errore suppongo che adesso ci farà vedere come invece farlo per delle variabili di tipo ordinale dice visto che male e female non sono ordinabili sono appunto dei fattori nominali R ti restituisce un messaggio di warning e ti restituisce il valore na ma cosa non succede sempre talvolta uno ha a che fare con fattori che invece hanno una natura ordinabile tra le categorie in questo caso dice creiamo uno speed vector che analizza la velocità su tre valori slow medium e fast e quindi andiamo a fare il nostro slow medium e fast e fast a 5 e 3 si dice one valore medium slow slow slow medium fast non devi specificare ancora che si tratta di fattori quindi possiamo tranquillamente andare avanti a questo punto abbiamo il nostro vettore che ancora però non è diventato un fattore e vogliamo usare la funzione factor specificando però che si tratta di valori relativi a una scala che è di tipo ordinale per fare questo dobbiamo passare ovviamente il vettore poi specificare che order è uguale a true e infine restituirgli i livelli specificamente quindi levels uguale c abbiamo slow dobbiamo metterli in ordine stavolta slow medium fast ok sediamo il nostro codice vedi che lui ci dice i livelli sono slow e minore di medium e medium e minore di fast e quando andiamo a fare il summary ci restituisce il nostro summary corretto chiaro? sì chiaro come si comparano i fattori dice si arriva in ufficio e qualcuno si lamenta del fatto che l'analista numero 5 che era quello del quinto valore quindi il nostro fattore si lamenta perché c'è veramente l'analista numero 5 perché è lento allora decidi di controllare quello che fa l'analista numero 2 che di solito invece è uno veloce il il fatto che il fattore speed vector è adesso ordinato ci consente di comparare diversi elementi mettendoli in ordine chiedendoci se uno è maggiore dell'altro cioè poi abbiamo 5 analisti che fanno il loro lavoro alcuni sono veloci alcuni sono lenti alcuni sono medi a questo punto ne possiamo dire ma l'analista numero 2 è più veloce dell'analista numero 5 come in questo caso dice usare il per selezionare dal factor speed vector il valore del secondo analista quindi speed vector anzi factor speed vector 2 questo è il secondo analista invece per il quinto analista come dobbiamo fare? factor speed vector 5 esatto e per compararli? da 2 maggiori da 5 esatto e scopriamo che effettivamente l'analista numero 2 è più veloce dell'analista numero 5 5 più grande maggiore ok ok però come? perché ci ha dato false quando abbiamo fatto DA1 maggiore di DA2 maggiore di DA5 vediamo se riusciamo a tornare indietro allora DA2 sarebbe slow e 5 sarebbe fast e quindi se io dico DA slow è maggiore di fast giustamente invece false giusto? sì sì giusto cioè DA2 è il valore slow sì sì più lento del DA2 è del DA5 esatto quindi se dico che DA2 è più veloce di DA5 mi dà giustamente false allora siamo passati ai data frame i data frame sono le strutture con le quali più spesso avremo a che fare dice ti ricorderai che abbiamo lavorato con le matrici e che tutti i valori che mettiamo in una matrice devono essere necessariamente dello stesso tipo quando abbiamo lavorato sui biglietti sulle revenue di Star Wars erano tutti valori numerici quando facciamo una ricerca di mercato però spesso abbiamo a che fare con valori tipo diversi ad esempio uno può avere una domanda sei sposato che può essere sì o no e quindi avere un valore di tipo logico true false quanti anni fai avere un valore di tipo numerico oppure qual è la tua opinione su questo prodotto una domanda aperta e deve essere di tipo di tipo stringa o carattere l'output delle varie domande può essere conservato in un dataset spesso ti troverai lavorare con i dataset che contengono diversi datate o solo un singolo datate diciamo che se hai familiarità con altri pacchetti di statistica come SPSS e SAS avrai familiarità con questo tipo di strutture andiamo a vedere qui R arriva con un data frame di esempio che viene sempre quasi sempre utilizzato nei quando vengono dati degli esempi di codice perché tutti hanno questo questo data frame nel proprio ambiente che si chiama empty cars andiamo a vedere cosa contiene questo empty cars è un data frame che contiene informazioni su vari modelli di auto quanti cilindri ha quanti quanti non so prescindemente cosa sia quanti motori ha e in questo caso vediamo vari tipi di auto sicuramente andremo a usare questo questo ecco si hai famiglia con con panda in python qui troverai parecchie attività infatti anche qui si può richiedere i primi valori di un certo data frame usando la funzione hid anche se la struttura la sintassia è ovviamente diversa qui in questo caso si usa la funzione e si passa il il valore e di default ci restituisce i primi 5 i primi 6 valori posso specificare che siccome in python quanti valori voglio e questi qui sono 7 ma il nostro esercizio si limita a dire che vogliamo usare la funzione id su mtcars e ovviamente c'è anche tail per avere gli ultimi valori chiaro? sì sì chiaro ok un altro metodo per farsi un'idea di diciamo delle dimensioni di un data frame è usare la funzione str la quale ci restituisce una serie di informazioni sul data frame che stiamo utilizzando in questo caso sappiamo che abbiamo 32 osservazioni e 11 variabili le osservazioni in particolare sarebbero le righe e le variabili sarebbero le colonne e ci dice per ciascuna variabile il data type della variabile e poi alcuni valori e vedi che sono tutti data type di tipo numerico in questo esempio dice analizzare vedi che sono tutti di tipo ora come si crea un data frame da zero questo diciamo raramente capita di creare un data frame da zero perché di solito tu importi dei dati da qualche altra parte ma alle volte può servire anche crearne uno vuoto e dice ok usare i data set già preimpostati e divertenti ma non quanto creare i tuoi come primo obiettivo costruire una data frame che descrive le principali caratteristiche di sei pianeti nel nostro sistema solare secondo il nostro buon amico Buzz the main le le importanti caratteristiche di un pianeta sono il tipo di pianeta se una gigante gassosa o un tipo terrestriale il diametro del pianeta relativamente al diametro della terra la rotazione rispetto al sole rispetto a quella della terra e se il pianeta ha degli anelli o meno che è una variabile di tipo booleana true o false dopo aver fatto alcune ricerche su wikipedia siamo abbastanza convinti di poter creare i nostri vettori che contengono queste informazioni quindi creiamo un battere che si chiama name uno che si chiama type uno che si chiama diameter uno che si chiama rotation e uno che si chiama range che sono questi che vedi qua per costruire un data frame si usa la funzione data frame e come argomento si possono passare i vettori che hai creato in precedenza ci saranno tre differenti colonne nel nostro data frame poiché ogni colonna ha lo stesso numero di la stessa lunghezza il vettore che passi deve avere la stessa lunghezza non dimenticarti che è possibile e anche probabile che contengono diversi tipi di dati allora dice usate la funzione data frame per costruire la stessa data frame passando i vettori name, type, diameter, rotation e rings come argomenti della funzione in questo ordine quindi name, type, diameter, rotation e rings quindi c'è mostrate il risultato di planet df e il nostro risultato è un data frame che contiene appunto diverse colonne 1, 2, 3, 4, 5 che contengono anche data type diversi perché diameter, rotation sono numerici name, type che sono text e rings e booleano chiaro? sì, tutto chiaro ok andiamo avanti creiamo un data frame il data frame df con le 8 osservazioni e le 5 variabili è già stato caricato in memoria quello che dobbiamo fare adesso è andare a controllarne la struttura quindi usiamo la funzione str sul nostro planet df quello che abbiamo costruito nell'esempio precedente che adesso ci ha caricato automaticamente in memoria e vedete che vedi che praticamente abbiamo la conferma di ciò che abbiamo già detto prima cioè che abbiamo delle variabili di tipo delle variabili di tipo fattore quindi il nome il tipo del del pianeta e alcune di tipo numerico il geometro della rotazione e una di tipo booleano cioè se ha o meno gli anelli in modo simile rispetto a quanto avviene per le matrici si possono selezionare gli elementi di un data frame usando i ormai classici square bracket le parentesi quadri usando la virgola si può indicare se stiamo selezionando rispetto alle righe o rispetto alle colonne per esempio myds parentesi quadra 1,2 e seleziona il valore l'esempio 1,2,3 e le colonne 2,3,4 bisogna selezionare tutti gli elementi di una righe o di una colonna e in questo caso si può fare appunto 1,1 a seconda di colonna di f per cui ce l'abbiamo creato cercherato in memoria automaticamente dice da planet df selezionare il diametro di mercurio cioè il valore alla prima riga e terza colonna e scrivete il risultato quindi prima riga terza colonna come dobbiamo fare? planet df 1,3 ok andiamo a vedere se viene un numero supponiamo che sia quello giusto e poi invece ci chiede di selezionare tutti i dati relativi a Marte cioè la quarta riga 4,4 virgola 4 virgola dobbiamo vedere se è giusto e il risultato è quello di Marte effettivamente dobbiamo inviare la risposta ed è corretta si può selezionare un data frame per nome della colonna dice supponete di voler selezionare i primi tre elementi della colonna type un modo per farlo è quello di usare una struttura numerica così come quella che abbiamo usato quindi dire i primi tre valori della seconda colonna oppure la seconda colonna la possiamo richiamare usando il suo nome e qui una cosa utile che qui non ti dice è che c'è una funzione che si chiama names che io posso usare per in caso non mi ricordassi i nomi delle colonne quindi che si chiamano name type diameter rotation rings in questo caso si dice selezionate stampate i primi cinque valori della variabile del data frame come bisogna fare? planet.df 1 2.5.2 ok e se volessimo farlo per nome? per nome 1 2.5.1 no usando diciamo il nome della variabile come il nome della aggiungemo type ok beh si è diameter non è type quello che ci viene chiesto di fare ok così si ok adesso ci dice selezionate solo i pianeti che hanno un anello che hanno un valore true sulla sull'anello dice se uno vuole selezionare tutti gli elementi della variabile diameter per esempio può farlo appunto selezionare l'intera colonna e questo l'abbiamo nella variabile tuttavia c'è uno shortcut per avere i valori di tutta una colonna che è quello di utilizzare il dollar questo è molto molto importante perché l'ho utilizzato tantissimo in R cioè se io voglio i valori di una intera colonna posso usare il dollar ma è abbastanza comodo il dollar anche perché mi consente di di vedere quali sono anche le variabili questo però in questa console qui non funziona ma se io faccio planet posso dire un scopo ok non so cosa era quell'altra cosa avevo eseguito questa riga che non mancava un pezzo vedi che facendo planet df dollar diameter ottengo tutti i valori della colonna diameter questo lo posso fare ovviamente per tutte le colonne quindi col dollaro riesco ad accedere ai valori di una simbola colonna dice usate il simbolo del dollaro per richiamare i valori di rings dentro il data frame di f e salvato questi valori dentro rings vector quindi è uguale a quello che abbiamo fatto qui ma al posto di the meters cosa ci devo mettere? rings rings ok e andiamo a vedere cosa c'è dentro ma diciamo che lo sappiamo ci sono i valori true false degli anelli facciamo l'ultimo passaggio abbiamo il nostro vettore rings vector che contiene true false e quello che vogliamo fare è selezionare solo i pianeti che hanno un anello quindi usiamo il in questo caso ci ha precaricato sia il data frame sia i vettori il vettore di true false che abbiamo salvato i ring vectors e usando questo questo codice otteniamo i i i i i i i i i i i i i i i i i i i i i i i i i i i quindi se noi eseguiamo questo otteniamo solo i nomi dei pianeti che hanno l'anello quindi giove saturno urano e nettuno e l'esercizio ci dice però noi non vogliamo solo i nomi ma vogliamo tutto e per fare questo è sufficiente togliere credo questo e andiamo a vedere cosa viene fuori e viene fuori esattamente il nostro data frame originale ma filtrato per le i pianeti che noi interessano quindi questo è un modo per fare subset di un data frame ok ok ok per oggi ci fermiamo qui e io direi così Brahim se tu fino a venerdì riesci ad andare avanti con gli altri esercizietti che ci sono in questo in questo corso fallo pure e quando ci rivediamo venerdì mi dici dove sei arrivato e ripartiamo da lì ok va bene ok va benissimo perfetto allora Brahim ci vediamo venerdì ok arrivederci prof grazie a presto ciao grazie a te grazie a te