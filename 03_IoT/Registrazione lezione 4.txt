Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. e quindi praticamente non c'è sentito niente fino adesso ho registrato o madre ok è vero che stavo facendo un po ripassino e quindi diciamo nella traccia velocemente avevamo ripreso il discorso del database i databesi per le time serie per le serie temporali e avevamo ripassato velocemente il fatto che permettono sia processi in tipo offline quindi analisi di ciò che è il salvato cioè di ciò che c'è dentro di qui e questa analisi può essere fatta poi vedremo con operatori a memoria proprio senza memoria vedremo in centro e questa analisi stessa può produrre una nuova serie temporale che può essere memorizzata sempre all'interno del db il prossimo line invece nasce dall'idea di fare qualcosa appena al dato arriva quindi appena un dato arriva all'interno del db faccio qualcosa e essenzialmente questo vuol dire che è un dato per noi un trigger è un evento che ci permette di reagire e fare qualsiasi tipo di protezione all'interno del db quali sono gli operatori che si utilizzano per processare questa serie temporale sono operatori con demore senza memoria gli operatori senza memoria come vediamo sono gli operatori che processano ogni punto ogni insieme di punti indipendentemente da quello che è passato non vanno ai punti procedenti al punto di processing o alla finestra di processing cioè si prende una visione questa visione è isolata dal resto del tempo del streaming quindi non si guarda dietro quello che è successo questi operatori senza memoria sono i classici filtri che vanno semplicemente a fare una valutazione nello streaming potrebbe essere un if se il valore è un filtro senza memoria io guardo il valore valore per valore che ne prego di quello che sono i valori precedenti guarda semplicemente il valore quindi tutti gli operatori di filtri sono senza memoria tutti gli operatori di trasformazione vengono chiamati operatori di mappatura trasformazione vuol dire semplicemente una scala devi passare dalla temperatura dei kelly nel settore di fare questo vuol dire che io prendo il mio gruppo e trasformo senza memoria ogni dato quindi ogni punto è trasformato in base con una particolare funzione poi abbiamo il merge il merge vero che lavora su multipli punti ma è comunque un operatore senza memoria perché questa volta il merge non ha come input un solo punto ma ne ha un certo insieme questo certo insieme normalmente si chiama finestra ma in l'operazione che fa sulla finestra non dipende dalla finestra precedente non c'è memoria si può fare un'analisi ad esempio la semplice analisi che possiamo fare è la media che io vado a fare leverage la media è una finestra con 10 punti e quindi non controllo della finestra precedente quindi la media è un operatore senza memoria dal nostro punto di vista quali sono invece gli operatori con memoria beh gli operatori con memoria invece sono quelli che producono un output a partire da punti precedenti aggregandoli ad esempio oppure facendo quello che chiamano la joint cioè la joint partiamo dalla zona o una serie temporale un sensore a per il bar del sensore b di metto insieme ok per il pensiero e come le con qualsiasi tipo di relazione che può essere un aggregazione fatto la joint di due serie poi passo fare l'aggregazione andando a calcolare valori massimo miglio fare da una serie quindi sempre vuol dire cambiare il passo della frequenza della nostra onda quindi se abbiamo campionato a 100 kg posso dire faccio un down sample a 50 kg e quindi scuola di rischio i dati prima di fare il down sample di solito ci fanno intervolazioni non so se avete mai lavorato un posto delle serie temporali è una buona regola prima di cambiare passo fare intervolazioni quindi torna subito e poi ci cambia beh queste tutte operazioni invece con memoria rispetto a quelle che abbiamo visto prima capite che questi operatori devono essere garantiti dai nostri db deve essere attivati allora vediamo cosa offrono davvero questi db dal punto di vista degli operatori e intanto ne siamo gli operatori con memoria quindi state su allora quello che vi faccio vedere è un esempio preso dalla documentazione di asus stream quindi che vi dà la possibilità di fare analisi elaborazione di time di serie temporali qualsiasi genere l'esempio che si trova sulla sua documentazione non l'ho inventato io è un esempio che va semplicemente in questo caso a contare il numero di tweet prodotti in uno stream ogni 10 secondi ok quindi io voglio contare i tweet in una particolare time zone quindi un particolare diciamo così lasso temporale sottividendo l'infidenza di 10 secondi anche perché si chiama appunto l'operatore di data window in questo caso è un particolare tipo che viene chiamato tambi non so se l'avete mai visto come operatore il tante inizia in setaccio quindi è semplicemente io come se cominciassero c'è tanto con le sue mani 10 punto la mia roba riguardo saccare di scopo che cosa rimane che sono in questo caso nel setaccio a come si come si definisce vedete la la qui è abbastanza interessante anche abbastanza chiara per noi che abbiamo magari usato perché vado a selezionare from twitter stream twitter stream è la strada di che viene di eventi di tweeting diciamo che abbiamo una tabella dove tutti i tweet in una particolare time zone sono stati inseriti con il loro time stamp che si trova la raggruppati per time zone e gli passiamo sopra un proprio se proprio l'operatore tumbling window che ha un solo parametro e se con ci dice metà di misura per i 10 secondi quindi vuol dire che noi andiamo a setacciare il nostro stream in questo caso con una finestra di dimensioni fissa in 10 secondi e vedete questo è il nostro stream che ha le 21 le 25 le 24 le 26 le 22 poi le 28 le 26 il 5 il 3 il 6 l'1 io applico con questo operatore la mia finestra tac la mia finestra che è anche 10 poi setaccio la parte successiva setaccio sempre le parti successive quindi qua cosa ho trovato ho trovato 1 2 3 4 5 5 eventi io li sto contando quindi il valore del ritorno di questa qui è 5 processando i primi di secondi 2 processando i successivi 10 secondi 4 questo è un classico setaccio quindi una window in tipo tabio non è un tipo di finestrazione che possiamo vedere vedete che non c'è nessun tipo di overlap e praticamente sono indipendenti l'una della precedente non c'è nessun bisogno di riferirsi all'analisi precedente però vedete la qui rispettava senza infatti mi stavo forse questa è stateless ho sbagliato a scrivere sì non abbiamo diciamo così riferimento alla precedente è vero questo lo ricontrollo però non credo dare sbagliato se scrive nel titolo perché non abbiamo riferimento alla precedente quindi ha senso dire che questa sia effettivamente senza memoria non vado non ho nulla a che vedere con l'evento precedente e un'altra evoluzione di quella è la sliding window questa è molto utilizzata la sliding window invece rispetto alla precedente ha una sola soluzione e in questo caso siamo sempre nello stream di prima l'operatore cambia perché non è tumbling ma è sliding window la sliding window di nuovo ha una dimensione in questo caso è sempre 10 la sliding window di default ha il passo dell'unità di misura se dite che è il secondo ha una sliding cioè ci sovrappone step dopo step di un'unità di misura quindi cosa vuol dire che la mia prima finestra di processing sarà da 0 a 10 poi c'è una sliding di una unità di misura che è il secondo e quindi vado da 1 a 11 e poi faccio tutti questi sliding in continuazione ok e questa è una finestra quindi che overlappa al massimo perché si sposta ogni volta semplicemente di una unità di misura quindi se noi abbiamo appunto una finestra di dimensione 10 e l'unità di misura dei secondi la successiva è semplicemente sweepata quindi avanzata di un secondo e di nuovo la query come vedete abbastanza semplice in questo caso era semplice un pochino diversa dalla precedente solo perché si chiedeva di ritornare il valore solo se maggiore di 10 però cambia poco vedete la condizione è ok ritornami il numero di tweet se maggiore di quello è come prima il twitter stream è la nostra tabella diciamo così con il suo timestamp questa volta lo raggruppo per topics perché la domanda era dammi il contatore di tutti i tweet per ogni topic che sono stati quittati 10 almeno 10 volte negli ultimi 10 secondi prendo la finestra temporale 10 secondi e faccio questo esempio andando a ritornare solo se maggiore di 10 però a noi interessa essenzialmente capire come funzionano questi operatori offerti da questi dp quindi sono e come vedete sono degli operatori già presenti nel sistema e a noi utilizzatori è chiaro che questo ci verrà molto semplice utilizzare questo sistema le finestre open sono finestre invece che le vere finestre di overlap perché la slide non possiamo decidere la percentuale di overlap nella slide quindi perché come dicevo scorre di una rivoluzione invece le finestre di overlapped invece le finestre di overlapped in cui noi utilizziamo la dimensione della finestra, abbiamo due parametri e la dimensione di overlap in questo caso se io dico finestra 10 overlap 5 è il 50% di overlap questo vuol dire che la seconda finestra si sovrappone vedete per il 50% della precedenza ok? e quindi abbiamo sempre questo 50% capite quanto diventerà facile semplicemente cambiare i parametri e definire la finestra di overlapped in cui noi abbiamo mai fatto progetti di serie temporale anche il film che riguarda il 5 quindi quando si è un livello una finestra di overlapped in cui che è overlapped in cui è 75% non è banale ok? quindi diventa semplice per l'operatore che utilizza il db semplicemente perché basta specificare dimensione e dimensione di overlapped e quando parliamo di questo tempo possiamo sommare le operature? si, se dici overlapped 1 diventa oppure se dai 0 diventa più grande degli altri due tipi però ecco vi faccio mandare intanto vabbè questo linguaggio immagino lo conoscete ma perché è essenzialmente un SQL però questi nuovi db introducono questi operatori sono operatori che prima non conoscevamo perché in MySQL è classico questi operatori non ce li avevamo l'ultima è la session window quindi una finestra ancora particolare che si chiama come operatore session window sempre dell'estrumento Microsoft e essenzialmente mi va questa volta a definire una dimensione e una distanza temporale dalla precedente quindi la mia dimensione è questa e in questo caso la mia session window quanto ho visto dalla precedente quindi rispondo ad esempio alla domanda dammi il numero di tweet che sono accaduti in 5 minuti di distanza l'uno dall'altro e quindi io vado appunto a fare questo lavoro con questa finestra che ha un time out di 5 minuti cioè qui sono appunto i parametri in questo caso quando scala la testa chiudo la mia macchia di processi quindi la prima cosa ok? quindi la finestra è sempre grande a 5 minuti? la sessione rimane aperta in questo caso con un time out il primo è il time out di 5 minuti ma è grande 10 quindi se non arriva a finire il 5 minuti trovo però se continua ad arrivare la sessione rimane aperta e quindi vedete la finestra è anche più ampia dal fine ma anche i 5 minuti? si però se continuano ad arrivare la sessione con il zero time out non è come dice è come un power manager dice ok io so che mi devo spegnere per 5 minuti se continuano ad arrivare però adesso faccio sempre la sessione ok? quando non arriva a finire il 5 minuti chiudo? no ok? quindi qua ecco a 30 non era arrivato nulla vedete la finestra si è chiusa perché ci sono 5 minuti di time out che comunque non è arrivato nulla quindi l'ultimo è arrivato a 25? è arrivato a 25 però la finestra è qui da 30 perché c'è stato che c'è time out di 5 ok? sono operatori di alto livello come vedete che sono però già presenti e li troviamo implementati in questi sistemi e questi operatori vi dicevo l'altra volta li troviamo implementati in questi sistemi se avete fatto la prova di cercare su questo database ranking che è una pagina web dove si trovano appunto tutti i db con il corrispondente score quindi il punteggio di popolarità e qualche modo di valutazione degli utenti in realtà ne esistono tanti questo è filtrato per tipo di database time series quindi solo i database time series guardate qui traverso i primi 20 e 22 ma sono da zero time alcuni sono delle estensioni di altri tipi di database infatti qua vedete in qualcuno c'è scritto time series e multimodem nel senso che quando la lavoriamo quando sono da zero però quello che vedremo noi nelle esercitazioni è proprio l'InfluxDB intanto come vi dicevo l'altra volta perché è il primo nel ranking è open quindi possiamo scaricarlo tranquillamente e possiamo testarlo anche facilmente e come funzionano questi sistemi come funziona InfluxDB che trovate a questo link come vi dicevo è open source il linguaggio di query è un javascript like quindi andiamo per tutto tra l'albato non è la sintassi proprio SQL è la sintassi JavaScript like il suo linguaggio reale si chiama Flux ha sia un'interfaccia grafica che un'interfaccia via di comando quindi lo possiamo interregare in entrambi i modi la cosa interessante è che supporta anche il mustallatist alla serie distribuite e via dicendo però ha un'integrazione molto spinta con diversi tool per andare in testa ma non solo ha un'integrazione molto spinta con diversi plug-in per tantissime piattaforme che sono plug-in raccolta dati cosa vuol dire plug-in raccolta dati? questo sistema non mette a disposizione solo il db un cloud o un'installazione che tu puoi fare con la tua macchina ti dà a disposizione anche tanti plug-in da installare su Raspberry Pi da installare su usp da installare su device edge in modo tale che i dati possano essere conferiti verso di lui in maniera molto semplice quindi oltre alla parte server ti offre anche tanti plug-in client questo non è banale perché tu se vuoi utilizzare questo server non è che ti devi mettere a scrivere ad esempio nel Raspberry Pi, in Python, o in C la query per fare l'insert di questi dati c'è la libreria c'è la libreria questo è il bello qui c'è già il plug-in tu hai stato il plug-in e a quel punto lo compiessi il plug-in ma usarlo è molto semplice perché gli dici da questo sensore prendi questo dato uno dal minuto gli vuoi aggiungere un tag certo voglio scrivere il liberatore la stanza numero uno perfetto arriva direttamente al BB dato con una codifica opportuna il tag il timestamp lo raccoglie da solo capito? fa tante delle cose ma la cosa interessante è che il plug-in si trova per una valanda nei sistemi ci sono un numero di plug-in altissimo e quindi è davvero portabilissimo facilissimo da utilizzare perché qui troviamo plug-in per architettura e c'è chi può essere più 20 di due oppure per la Raspberry plug-in per un desktop computer se io voglio controllare da remoto la velocità della ventura del mio desktop in un ufficio ho un plug-in sia per lui per me due linee di codice lo butto dentro questo plug-in mi spara i dati da sopra e poi io vado in via è molto figo dal nostro punto di vista anche perché noi comunque dal tra la pari di due dobbiamo fare delle quelle sempre per due stelle esatto ma se le risparmio se le risparmio intorno queste quelle per install il plug-in che è fornita gratuitamente dal mello che è fornita per tutte le macchine ci sono poi plug-in già pronti addirittura per come dicevo l'esempio di prima spedire la velocità della ventura del processore oltre al minuto in Windows che adesso con dei riporti attivo il servizio perché poi c'è un servizio in Windows che praticamente fa questa volta con dei riporti quindi io metto in piedi immediatamente un sistema di raccolta dati molto semplice e così io vi posso concentrare su altro non devo perdere troppo tempo nella programmazione di quel tipo e infatti come vi faccio vedere qua il flui di B è un sistema tutt'altro che banale perché è fatto al suo interno di tanti moduli non banali e l'influ di B il vero e proprio è questo che è il motore l'Edge di storage e processing qua ma poi sopra ci sono i telegraph telegraph sono appunto questi plug-in che vi dicevo che raccolgono dati dai vari dispositivi edge che comunicano direttamente con i plug-in B poi cosa abbiamo qua sopra? abbiamo crono grafico invece che è un'interfaccia grafica per accedere ai dati quindi utilizzando la grafica e i grafici e gli individui in maniera molto rapida al suo interno contiene questo modulo capacitor che è il sistema di processing quindi che effettivamente contiene gli algoritmi per analizzare i dati come vi dicevo è un sistema molto complesso e la cosa bella è che è open vi dicevo che esiste la versione design cloud da provare che magari vi faccio anche vedere perché ho da un po' di tempo attivato vediamo se riesco a farlo vedere da qua ok vediamo se riesco a farlo vedere da qua interrompo un attimo la condivisione riprendo il mio sì questo non mi serve ma qui abbiamo l'audio mute però voglio vedere se riesco a farvi vedere influxdb adesso lo vediamo eh tac tac tac tac tac è lì ok si vedete adesso sì questa è la fase di influxdb che in realtà si chiama in inglese spesa da un po' e vedete ci abbiamo get influxdb e di lo scarichi lo scarichi per Linux lo scarichi per Linux lo scarichi per Mac quindi per la prestazione è open oppure vuoi provare in cloud fai login gratuito con un account Google o un account Microsoft adesso vediamo se riesco a far vedere il mio ok io ti no avanti no diciamo che non funzionerebbe sì sì siamo tutti noi chiaramente io non è la prima volta che faccio login quindi ho già poi diciamo così configurato il mio db e questo va bene è il cruscotto principale la configurazione i task i alerts posso creare alerts se il valore del real time serve super la città x la città x la mandano a me la città come che puoi ma faccio vedere l'esplorazione allora l'esplorazione l'esplorazione mi fa vedere quelli che sono i bucket cioè i dati che ci sono in questo momento e ci ho essenzialmente un bucket principale che l'ho chiamato IoT Lab e ci ho un monitoring o task di che cosa? di cpu vediamo cosa dire alla cpu cpu credo che sia la cpu della raspberry sì che purtroppo non mi fa va a espandere questo è un po' va beh ci sono vari campi sotto per fare filtraggio ad esempio mettiamo il time cpu temp ecco scusate così ho fatto submit vediamo se funziona ecco che mi fa vedere ho fatto semplicemente submit di default mi fa vedere la cpu la temperatura della cpu in questo caso nell'ultima ora basta con un'ora però posso cambiare qui vi dico almeno nelle ultime 24 ore mi fa vedere la temperatura della cpu della nera spera chiaramente ho una rossiare di livello di un viso che periodicamente è assalato il traditore in via in via questo dato dentro il mio ragazzo no ma questo è anche una rai che ha la shell scriptedito qua per passaggio la query e adesso prima di vedere la query però guardiamo un po' il linguaggio perché al momento la quale può essere un po' popolare ma lo vediamo adesso c'è la pipe abbiamo accennato che la pipe pipe pipe adesso lo vediamo comunque questo aspetto però ecco se vogliamo fare una cosa semplice ci fidiamo anche nelle ultime sei ore submit eccetera torno a farvi vedere perché questo è più tutto gratis tutto gratis sulle sito queste carte l'unica cosa è il throwback che dopo 30 giorni cancella lui cancella a 30 giorni nel senso che non maschino la serie temporale della tre poi che alla fine è stata escorta non già via i vecchi ma anche i più però non gli puoi fare una domanda per il tesi un giorno non c'è un sacco di cose se mi serve tenere i due due anni faccio la upgrade se mi serve tenere i due due anni ti puoi scaricare il software che è open source che al tweet lo installi nella tua macchina lo installi in cloud se lo installi tu e te lo vestiti tu se lo metti in locale se lo metti in locale se lo metti in locale se lo metti in una macchina solo uba la parte a pagamento praticamente ci fa l'hosting del sito senza dovete preoccupare di tutto quindi l'hosting è sul loro cloud a quel punto però lo fanno è lo che non è delle sue limitazioni tu puoi fare upgrade e quindi ti fai i hosting a loro e non hai limitazioni oppure ti scarichi il server che è completo uguale a questo dove stanno e dove vuoi tu ma questo dice sempre la questione di non dire che sarà natura sempre la questione quanto puoi spendere i risorsi umani per gestire la stessa cosa che devi adesso i prezzi sinceramente non ci ho guardato quanto siano però probabilmente hanno un punto tanto che l'hosta dove è stato successo a 2x si, si, lo ha sti di soldi allora mi importa poco e per file esattamente e guardiamo telegraph no vabbè gli API token si basa sulla creazione di token per scambiare in maniera sicura i dati eh una sera ecco questi sono per dirvi i plugin adesso qui non mi li fa vedere tutti questi sono soltanto voi di token si, sono un numero assurdo cioè Amazon Cloud Watch Allah cioè tutti questi plugin telegraph che ti possono spedire la soffizione in ordine alfabetico vedete Kafka si quindi il 230 plugin molti di questi sono installabili su siti piattaforme un bel tipo la Raspberry eccetera cioè un numero alfabetico vi dicevo se ne è un numero assurdo probabilmente anche per questo che è il rating numero uno perché c'è una valenda di plugin telegraph in grado di farvi accedere a qualsiasi informazione ma se non si può fare ma se non lo fa da conoscere poi si c'è anche il modo di farselo da solo perché una volta che tu conosci la sintassi per fare l'inferve i dati non so come volevo far vedere però nella nostra Raspberry cosa ci avevo messo di là ci abbiamo messo la temperatura vediamo la temperatura scusate la temperatura anche la luminosità vediamo la luminosità come varia nelle ultime sei ore la luminosità era zero fino a quest'ora qua sì attorno alle 7 quando è arrivata la bidella che ha aperto il genere adesso è una luminosità massima vedete le ultime 24 ore la luminosità è andata giù qui qui è andata a zero e poi ha risalito anche i luci non per te esatto se qualcuno accende la luce durante la notte alle 2 di notte qui cosa è successo? è andato qualcuno la temperatura questa è la temperatura ambiente perché la rarvea è solo di temperatura quindi varia nei 20 poi ci spengono i riscaldamenti notte cala cala cala ci si si capisce di attenzione cosa sarà con i vincoli quando si spegne il riscaldamento questo tipo qui questo tipo qui questo tipo qui è un'altra parte è un'altra parte è un'altra parte è un'altra parte è un'altra parte e non volevo far vedere se guardiamo la temperatura della CPU vediamo un po' i sensori sono quelli integrati e collegati direttamente sull'asperto? si mentre tutti questi qua utilizzo CPU eccetera sono i telegraph di collezione a tempo da raralberio anche la temperatura della CPU la colleziona io non riesco a fare un grande parte si si si abbiamo dei sensori di luminosità che abbiamo aggiunto noi temperatura serve abbiamo aggiunto noi forse riesci meglio con il contatto per te la testa ah non so che ero con il mano sai che non ci avevo pensato vedi qui infatti ecco passandoci sopra vedo anche ogni punto tutte le informazioni non ci avevo pensato è comunque scompa si si però almeno posso allargare questa cosa qua dai se no mi faceva ah ecco l'ho trovato tac no vi voglio far vedere posso plottarne chiaramente due la CPU temp e la CPU e la temperatura ambientale adesso sono su due scale diverse ma si capisce subito che c'è una correlazione la vedete? allora questa è la temperatura ambientale 17 gradi la temperatura CPU è questa di 49 vedete che c'è una correlazione? perché? perché quando ci scava la mente si scava la mente si scava la mente si raffredda di mente si raffredda di mente si raffredda di mente si c'è proprio questa cosa qua e poi invece in certi momenti vedremo che non c'è più con elevazione ma magari è stato fatto alla riferimento in task grosso quella di un certo futuro calore è indipendente la valutazione del calore è indipendente la valutazione del calore è indipendente mi sono interessato andare in situare una percentuale di utilizzo del core per fare un'ottima fisica per fare un'ottima fisica esatto così venivi il carico di lavoro aumenta la punta della figura per dire vediamo un po' comunque anche qui non fa un po' perché se quelle basi le riesco a fare da qui si è davvero è basamente basagrata qui vedete questo plugin in questo caso telegraph mi ritorna il time guest time guest nice tutti i tipi diciamo così in cui la cpu ad esempio usa la sua ad esempio vediamo quanto tempo di idle andiamo a plottare la tipica cpu ha avuto si adesso qui non ci vede un cavolo con questa cosa e chiaramente abbiamo abbiamo più linee perché abbiamo la cpu 0, la 1, la 2, la tecnica core e abbiamo la media di core vedete e questo è il tempo di idle vediamo invece se c'è il tempo di perché c'è il tempo di rq c'è di interrupt il tempo di nice il tempo di wait sull'input output andiamo a vedere ecco user time ad esempio e qui va a vedere come vale e praticamente non fa niente sta a sbagliare perché quello che fa è che c'è solo un task che è il telegraph che se non sbaglio una volta al minuto è stato configurato per un po' ancora un'altra in realtà davvero non sta facendo nulla bene questo per dirvi che cosa che questo sistema è il sistema che useremo anche nelle testazioni quindi faremo un certo punto di gestazione proprio l'utilizzo del plugin telegraph su rasmere per collezionare dei dati quindi li prenderemo da un sensore esterno e li invieremo qua sopra cosa vuol dire che invieremo qua sopra? vuol dire che io qua sopra posso abilitare nuovi tockee ma per che scrivi le tocke anche voi e poi siete autorizzati a scrivere dei tockee perché il riconoscimento cioè la parte di dire ok sei autorizzata a scrivere oppure no si parla uno scambio di tockee che io faccio un incontro che ve lo do che è una stringa alfanumerica lunghissima il plugin telegraph quando sperisce dovete sempre passare il tockee poi i tockee chiaramente possono essere revocati bloccati, aggiornati eccetera dal soldi di base è molto molto versatile bene per il vostro progetto di esame potete usare tantino amiche questo strumento BOT chiaramente facciamo parete qualcosa di più rispetto alle esercitazioni l'esercitazione sarà tipo questo si si perché come cosa è il sistema? il sistema è che se tu hai qualsiasi cosa collegata all'asberg sono asbergi di sistale telegraph e poi passi tutto qua l'era addirittura il plugin telegraph lo trovi anche per le progetto tipo SP 2286 che sono 6b piccolissime se il plugin telegraph è in tezzo quindi è molto facile inviare informazioni qua ok? e poi è molto facile vedremo organizzarle adesso facciamo una pausa quindi pausa prendi la registrazione perfetto l'audio è attivo quindi dovrebbe essersi ok? condivisione c'è la? vedete la condivisione? si si si si bene allora abbiamo visto quindi quali sono i componenti di questo DB e abbiamo anche visto una piccola demo di come funziona ora andiamo ad analizzare un po' le caratteristiche che lo distinguono allora essendo un database che è in serie temporali viene da sé che ci serva una codifica una qualche codifica per il timestamp perché i temporali hanno effettivamente senso con un timestamp la codifica scelta è questa RFC eccetera poi nel formato 4 caratteri per l'anno 2 per il mese il giorno l'ora minuti secondi eccetera però la domanda come scusa? no una domanda c'è come fanno a sincronizzarsi? chi? i dispositivi tra di loro cioè ognuno bisogna avere una data giusta in ognuno? no allora guardate che arrivo al server ma non mi dice c'è un po' di sincronizzazione quando si collegano si nel senso che tu produci il tuo dato usa il plug in telegram usa il plug in telegram ah! quindi registra tutto il resto ok e quindi sembra che quando è arrivato al dato quindi chiaramente ci possono essere uno spollamento qualche minuto secondo si sembra la riferimento eccetera però il dato lo registra lui il time tech sono dei dispositivi che comunicano bisogna che il timestamp sia collegato a tutti poi considera che ci potrebbe essere il problema dell'orologio spasato interno non c'è l'orologio locale in realtà usa il suo quindi se noi produciamo un dato di una certa ora quando magari abbiamo due ore dopo ci stanno sempre due dopo eh sì quello che è nostro diciamo così cautela è un pari per bene questa cosa nel senso che se lo fai con telegram è impossibile perché se lo fai a mano tu allora la gente che è una script più non forse non può essere un dato è un altro problema se fai con l'interno è cosa succede? no proprio per risolvere quel problema lì perché se tu hai gente o c'è nessuno io sono l'orologio o sfadato comunque gli orologi anche che ci sono sui 10 device non è che sono specifici perché ma sono stata una bella deriva sono disincroniti spesso quindi per fare questo lui usa il timestamp del momento d'arribbo e quindi lo codifica in questo modo e lo mantiene associato ad ogni punto poi cosa abbiamo? abbiamo i campi che sono essenzialmente dei metadati che possiamo identificare come i nomi delle colonne e la tabella quindi come abbiamo visto prima che era la temperatura CPU che era un field oppure temperatura ambientale un altro campo e ad ogni field è associato un valore che questa volta è la misura che è la misura che la coppia. mentre questa è una stringa il field invece è un double ok? il field delus è un double perché appunto c'è un valore codificato sempre in maniera double abbiamo altre informazioni che possiamo aggiungere che sono dei tag che sono altre informazioni come metadato possono essere aggiunte ad ogni valore e il concetto di misura il concetto di misura è quel concetto che essenzialmente è un container un po' come una tabella quindi io posso nel mio tb creare più container più misure e quindi avere più serie temporale perché io per esempio con un quadri cpu una buona temperatura e di dicendo e posso mettere in container separato a livello root ci sono i bucket cioè i secchi i bucket sono delle strutture quindi nell'esempio di prima il bucket che usavo io si chiama IoT Lab ma dentro la mia installazione posso chiedere più bucket quindi posso chiedere il bucket IoT Lab dove al suo interno ci metto diverse misure di una misura eccetera con diverse tag e ogni bucket è personalizzabile anche nella politica di trattenimento dei dati quindi 30 giorni sono obbligatori ma io posso anche quando lo fiuro il mio bucket dire che questo bucket ha un tempo di ritenzione di 10 giorni perché da questo interesse in alcun modo ne vengono più un altro bucket invece posso metterlo con tempo di ritenzione 20 giorni, un anno visto che lo posso fare in maniera del tutto libera se faccio un'installazione ad hoc oppure se pago la tassa diciamo come si esplorano i dati? questa è una query completa diciamo così che è la query che magari abbiamo visto automatica facendo submit questa era la query ma andiamo ad analizzarla la query inizia con la scelta del bucket va bene nell'esempio ecco adesso il bucket si chiama IoT Lab quando ho fatto le slide l'avevo chiamato il new by IoT Programme cambiamo quello del nome del bucket cioè nel secchio quindi scelgo il bucket quindi from bucket due punti nome del bucket cosa prelevo? allora questo è l'operatore pipe quindi io posso tante righe mettere in pipe cosa vuol dire? che la riga precedente il risultato di questa riga viene dato l'output di questa riga viene dato in in tutta la successiva questo è il concetto di pipe no? quindi cosa faccio prima di tutto? in questo caso dico range start 2D quindi medio 2D allora cosa vuol dire? vuol dire che io voglio visualizzare i dati a partire da due giorni fa questo vuol dire non ho messo una fine in questo caso fino a se non ho detto vuol dire l'ultimo dato disponibile fino a now cioè da now c'è se abbiamo l'ultimo dato oggi bene quindi con questa prima cosa cosa ho fatto? ho tratto una sottoparte del db tutta la serie strutturale da due giorni fa a due l'output di questa la do in input alla riga successiva perché c'è pipe, vedete? quindi tutto questo database di due giorni fa lo passo alla riga successiva la riga successiva mi dice filter quindi cominciamo a fare un filtro di tutte le informazioni che ci sono che tipo di filtro facciamo? facciamo un filtro in cui il la misura si chiami rasberry temp long come vi dicevo che non va che ci possono essere delle misure tra le vertice più tra sperriter se non mi sono dato io se non mi sono dato io nel plugin telegraph quando mando i dati non bisogna preimpostare le tabelle mentre io devo fare una tabella che contenga rasberry temp pro quando l'altro arriva lui ci accorde come si chiama la misura se non ce la per quindi in questo caso il primo filtro è voglio che la misura si chiami così pipe di nuovo all'interno di quella misura voglio che il campo, cioè il filtro, si chiami temperatura perché dentro questa misura c'era temperatura e qualcos'altro l'unità entrando e quindi seleziono temperatura questo vuol dire il risultato di questo non lo mostro a video ma faccio un'altra cosa invoco una funzione che si chiama aggregate window aggregate window è una window non open quindi non overlapped ma è una window di quelle tanti che si susseguono quanto dura? 10 minuti che cosa fa? media fa la media e produce un punto ogni 10 minuti produce un punto quindi ciò che produce è una nuova serie temporale che avrà un punto di 10 minuti indipendentemente da come è stata campionata quella non sappiamo come è stata campionata quella se quella è stata campionata in 10 minuti chiaramente è inizia nel nostro caso abbiamo fatto nel plugin telegraph un minuto quindi indiamo ogni minuto quindi questa nuova serie è stata costituita dalla media quindi si ok? essenzialmente io questa qui rimane come vedere in abito SQL in line come se fosse una select from un metabella che serve bucket e tutte quelle pipe sono tutte delle palestrano cioè io le devo vedere le delle web le delle web le delle web le delle web ha tanti parametri si in certo caso si usa appunto fare questo operatore pipe vuol dire che la scalare esatto tutta scalare quindi prima produco semplicemente un taglio temporale da due giorni poi filtro poi filtro e poi aggrendo e questo si è più in questo modo a pipe velocizza tantissimo io immagino perché chiaramente questo di lì ha a me dire che sono più di cultura e le web si più che altro ti costringono a vedere memoria e ti affare tutti insieme con la torre del SQL poi devi mettere insieme la tabella il cracola giusto quindi qui ti fai esatto quindi poi quando passi di sopra puoi buttarvi il resto la mano che sta facendo passa ancora dopo e c'è la cittura di tanti che passa ancora quindi riduce in continuazione e muta via e non te lo ti serve più perché non ti serve più tornare insomma comunque ecco vedete al di là ecco di pochi accorgimenti questa questa sintassi è abbastanza semplice da utilizzare da comprendere quindi ecco come vi dicevo è un linguaggio javascript like un approccio chiamato funzionale perché appunto ci ci lavorano con questi funzioni e abbiamo l'operatore di pipe che ci permette di concatenare tante tante sottoquery quindi come vedete in questo caso la query più semplice no? una volta scelto il bucket run run ti dice appunto di ritorno a tutto il db in questo caso il meno vuol dire partire da un'ora fa il tipico l'out l'out cioè la line vuol dire fino all'ultimo dato quindi si parte definendo il data source con il concetto di bucket perché possiamo avere 2 in 1 si specifica poi il time range per esempio per quando lavoriamo con i concetti temporali poi ci sono sempre per un time range il time range vedete può essere definito con start e stop quindi posso partire da un'ora fa fino a 10 minuti fa semplicemente quel quel lato temporale questo è l'esempio di prima proprio dove un giorno fa quindi parto da un giorno fa fino ad oggi fino all'ultimo dato disponibile filtro prendo solamente la misura che si chiama raspberry temp long filtro il campo temperatura e questo è ciò che vedo in questo caso era proprio l'esempio che vedevo tempo fa quando ho fatto queste slide e quindi non ho fatto nessun processing vedete ho solo tagliato e filtrati infatti vedete come è brutta la curva perché qui c'è una quantizzazione abbastanza spinta del sensore della nostra albervi ha una risoluzione al mezzo grado se non ricordo male e quindi o va 22 o 22 e mezzo o 23 e quindi vedete che effettivamente c'è una quantizzazione forte ma questo era voluta perché abbiamo perso un sensore che fa unissimo misura la temperatura ambientale che il mezzo grado si basse o ci interessa sapere di un'ultima se volete potremmo applicare un filo esatto possiamo fare uno smooth possiamo farci tante cose su questa curva no? la prima cosa che possiamo fare è addirittura suddividere la curva in quattro spezzoni esiste il comando window che semplicemente produce come se produce quattro serie temporali o meglio una serie temporale ogni finestra in questo caso cosa facciamo sempre come abbiamo fatto prima l'estrazione del packet un giorno fa i filtraggi che poi diciamo window ogni sei ore ci accorgiamo che ha aspettato la serie perché vedendo ogni sei ore cambia il dolore quindi per lui invece fossero esattamente serie temporale separate vedete? sei ore blu viola sei ore sei ore sei ore sei ore quel comando window ha prodotto dei pezzi ha spezzato tutto non ha fatto ancora nessun tronco invece qua c'è la funzione aggregate window quindi non solo lo spezza ma aggrega aggrega ogni dieci minuti e qua potete specificare la funzione da applicare in dieci minuti la media ecco che se ne è andato tutto il rumore dei fondi dei metri perché è un numero di 15 minuti è davvero molto potente ma la potenza poi la vediamo se andiamo a leggere la documentazione e andiamo a cercare il numero di funzioni che abbiamo a disposizione guardate bene questa funzione con una riga sola exponential moving average è una media esponenziale mocker con una riga scrivo quanto è il passo 5 quindi cosa faccio? prima ho dipinto 24 ore quindi un giorno fa raspberry templon l'ho mediata ogni dieci minuti e poi il comando yield non la cancello quindi rimane lì rimane quella blu vedete disegnata poi cosa faccio? applico una media esponenziale a 5 punti che viene dipinto in caso con un altro coloro sono due righe ho calcolato la media esponenziale di questi punti che ho plotato sopra vedete effettivamente come fa un volume come volete aspettare no? se lo venite polenziale c'è un pesante di grazie perché non si vede da qui? forse bisogna metterlo no ma di solito basta premere alto la tastiera per farire no ma dove non si vede da qui? no se premiamo alto si lascia no no se si se per me no per mostrare e nascondere i comandi delle riunioni ok poi giù poi giù prima adesso non se ne va più premendo cosa? premendo l'altro sulla tastiera si ci sono già sopra se rimangono sempre lì si prima se ne erano andate scusate c'era la domanda la domanda era aggregate windows o meglio aggregate windows con function mean si dipende che function vi passate là perché se io metto function max non è una media mobile dipende da quale funzione io passo poi a fn se gli do la media diventa una media mobile se gli dico prendi sempre il valore massimo o il valore minimo e anche lì ci sono tante tante cose scusami questo è il suo nome interno measurement e field si measurement è un container container field è un tipo il nome della colonna il campo come se il bucket fosse il bucket fosse il dato di inizio esatto ok grazie il bucket è proprio il nostro db quindi io ne posso avere più uno dentro le tabelle sono tutte le tabelle sono tutte le tabelle forse coloro esatto cosa sarebbe più coloro delle tabelle e che sono però i field ma poi sono standard o ci hanno le tabelle le tabelle e i field allora il nome esattamente field è definito però c'è un ruolo che quando facciamo l'idea della configurazione diciamo che voglio mandare a questo bucket il nome del bucket devo dire il nome della misura e il field però è quello che ho scelto io e come ti dicevo non devo prendere fuori la tabella nel senso che se io mando il bucket se non esiste se esiste il bucket se però la serie non esiste viene creata se il field non esiste viene aggiunga i field sono quelli di custom che ci chiamano i field sono tipo valore timestamp this per farlo breve ecco io per fare questo esercizio ho scelto ho scelto questo nome qua raspberry time plomo così come il nome dei campi non è this si chiamano ma il timestamp il timestamp c'è sempre poi c'è raccoglio il valore del campo esatto il timestamp perché è la scuola nel senso che io non lo vedo che viene prodotto come approccio non consiglio adegnare il pubblico di fare il tipo perché è sempre concatenato e anche lì si dovranno tutte le bucket per il bucket quindi dovete fare range e poi sui field a me piace molto questo modo di fare dei query non mi dispiace mi sembra molto user friend e si intuisce velocemente cosa stai facendo non so quanto si riesce a personalizzare nel senso che si puoi fare dei migraini di estrazione dato personalizzazione incredibile adesso qui non lo so quanto riesce ad andare nel particolare per dire si possono aggiornare più bucket immagini si si si lo puoi fare io ho un'attività di junio andiamo se la mia luce puoi unire diciamo i bucket puoi unire varie misure e considerate che quando fai l'unione è tutta basata sul tempo lo fai non com'è questa cosa qua quindi se un bucket si sa un buco e dell'altro quando fai l'unione rimane l'intersezione e quindi l'unione è solo uno dei due quindi il time stamp è fondamentalmente tutto basato nel tempo questo è molto potente soprattutto se lo provate se lo sperimentate vedrete con quale velocità davvero reagisce e per chiudere la carrellata ecco qui se andate su su link vedete quanti sono i plugin disponibili ci sono vedete anche i plugin del schede video nvidia se tu vuoi monitorare il corso della scheda video o il lavoro che sta facendo sulla tua macchina e poi mandarla c'è già il plugin è pronto probabilmente come diciamo prima perché il plugin più quelli di tu non deve complicare perché una volta che hai conosciuto che hai venitmente la sintassi del linguaggio e conosci la piattaforma su cui lavorare scrivi il plugin e poi lo puoi condividere si possono monitorare anche si può monitorare l'occupazione di memoria del tv il carico di lavoro tutto quello che appunto si riesce abbiamo una domanda invece di sempre di Nicolò che dice immagino non gestisci a chiavi esterne credo proprio di no questo non mi sembra che sia la possibilità di vedere delle cariche esterne no più che altro perché non è in attaccia è diverso il concetto è una serie di dati in cui c'è numeri c'è una coppia di valori si la serie temporale è un dato un po' particolare quindi non è che le colombe sono un tipo di dati il tipo di dato è già nella riga diciamo su un paio di test con la riga si è proprio quello vedete poi c'è chiaramente i plugin per windows uvmware poi monitorare lo stato delle macchine virtuali ce ne sono davvero come vediamo prima nella pagina oltre oltre 200 quindi sono effettivamente molto è molto molto facile raccogliere dati perché non è una cosa banale ma quando lavorate in IT come diciamo prima e abbiamo a che fare con edge device differenti avere plugin standard è molto utile piuttosto che mentre si ascrive il prodizio magari ho un device fatto più di giornata fatto così io ci carico sotto a telegraph che propriamente esiste per tante piattaforme e quindi vado molto più spedito io so che per andare da un cliente di netista hanno questo plugin di telegraph su SQL Server quando che so che a determinati parti del giorno mi si inchiodo al database per che io ti faccio monitorare e vediamo magari ma non più no ma non più poi magari che poi contemporaneamente il SQL Server monitorizia anche lo stato della macchina occupazione dei core memoria ram file swap è banale ci sono un sacco di plugin per macchini windows bin maker che ti installabili che ti potescono tutto lo stato con la sequenza che vuoi tu di quella macchina e quindi tu puoi mettere in correlazione come dicevi lo stato del bin ma è la macchina ma è la macchina anche banalmente la temperatura della scheda video questa cosa è logicamente si la frequenza ma la seconda di quello che hai detto ora la temperatura non ha senso misturare in modo lineare e quindi infatti il plugin è facilmente configurato perché vedremo il plugin telegram per ripare è molto semplice un po' più da scrivere c'è per le macchine più basse il plugin è sempre per usarla speedline però se usi il plugin addirittura non usi neccolo di riguardo perché tu fai il plugin in automagini quindi noi vedremo ad esempio per i paesi in Python andrai a fare un campionamento aggiudato e poi ti dici a te mandalo a questo server che tu conosci e danno quindi quello ti semplifica notevolmente la vita anche quando sei lì non ti devi mettere a scrivere la query all'interno del divano inizio capito perché c'è la vita lo fa per te poi nulla viene che tu faccia la vera quindi è quello che diciamo se il tuo task è semplice che non devi fare non strappalate poi qui strappalate devi portare un'altra specificamente specificare il calcolo di durare specificare nome del campo anche solo per vedere il calcolo mentre il calcolo di assorbire e accorgi il calcolo che il calcolo di il calcolo di tempo poi non so l'interno senza mandare gli aller si manca un po' mandare la mail perché c'è il concetto di protesi online se l'occupazione del busco arriva al 96% comincia a dare l'alber poi si vede più la la posso usare anche per interfacciare sull'anate dei specchi sferdi telegram sottolineato sensore posso vedere anche il sensore i propri dati per la sfera è esterno no non direttamente è più riguardo la sfera e poi lo per mandarlo se invece vai sull'SPPT 86 c'è il baghino non hai bisogno di appoggiarti a un modo forte tipo l'alberto ma direttamente lui via poi capito quanto sei nel piccolo se scendi dopo nel piccolo il baghino non ci sta sopra quindi però fino adesso ti ti prendo propri dati per avere qualcosa esterna che prendi te e poi sicuramente molto funzionale l'alberto io ho fatto vedere le storazioni o dei dati il cruscotto è configurabile quindi ci puoi mettere un gran infattore una lancetta dell'orologio un'altra che ti fa vedere l'occupazione di 100% il cruscotto è totalmente personalizzabile e la cosa bella appunto è che è gratuito come diceva lui dopo per lo staglio proprio devi rispire la macchina però se non so quanto porterà la licenza diciamo che non è un aspetto che mi compete che mi interessa più di tanto quanto costi io per oggi finisco un pochino prima ma sarebbe qualche domanda non ti ho sentito ma guardatelo questo a parte che non sai e fare la campionata basta avere un gmail e non accanto metti sopra e ti pronunce già il tuo il tuo il tuo il tuo il tuo il tuo il tuo il tuo il tuo il tuo il tuo il tuo il tuo il tuo il tuo il tuo il tuo la cosa più semplice se subito da scaricare una volta che hai fatto il login subito da scaricare il plug-in per macchina windows per monitorare la tua macchina per vedere il disco se fate quanto farete un progetto per l'esame tregolo in considerazione non è una cosa che potremmo usare perché poi vedremo altri tipi di db con altri tipi di informazioni di più di più di più il progetto considerate che il progetto d'esame essendo aiutici sarà una parte sul dispositivo ma è che la parte già non si dovete sviluppare come un'altra parte di più il progetto d'esame deve essere un progetto vero AIP AIP sia sempre la parte AIP è la parte cloud quindi per la parte cloud potete prendere le cose che è tutti qua nell'unico poi ne vedremo altri però questo tenetero in considerazione come sistema per sviluppare il progetto dell'esame bene poi si è andata a porta si si si no no questo non vedete se ci sono il problema è il rapporto a porta il rapporto la mia non deve sapere chi è andata perché la cassa non deve sapere che si è andata quindi sicuramente bisogna installare un'idea un'idea di di di di di di di di di di di di abbiamo installato su di abbiamo installato in flutti b su ubuntu sai a roberta che è assoluta bellissima la documentazione ma partono lì che non installo lo configuri e poi abbiamo installato telegram su sp e poi adesso ho la sperma no eh ho l'altro però beh è non è sempre guagliare con solità mi servono vabbè la sberri prendo i dati io ho la sberri poi è stato telegram di istemie eh no la sua c'è solamente la temperatura della ccp1 che puoi interrogare a bando dopo l'occupazione della nevola e si ma sono sensori reati che sono valori di intera però la temperatura della ccp1 poi monitora da uno più ho visto è fortemente correlato a temperatura ambientale ho visto che qualcuno ha fatto addirittura un modello di previsione base la ccp1 ambientale si a ccp1 si sta in quel modo è lato tu conosci la ccp1 quanto sta lavorando quindi quanto fa la ccp1 sta là è lato e quindi ci sono dei modelli che ti dicono adesso ci sono 22 gradi e ci troviamo settore tecnico come l'unico che hanno un problema di televisione però non vedono molto bene perché il monotransferro non c'è un compagno del lavoro che sta facendo la ccp1 che si sa la ccp1 quando lavora fa che fa e quindi si guarda da quant'è che la ccp1 bene ok allora facciamo interrompiamo la registrazione