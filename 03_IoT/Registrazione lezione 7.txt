Ok, buongiorno. Stavamo giusto per iniziare. Oggi finiamo l'esperimento con la Raspberry Pi. Ci mancava ancora di testare due cose con lo Shield autoprodotto, quello che abbiamo fatto qui, che ha costruito Paolo, e poi dopo invece montiamo l'altro Shield, che è il SenseApp. C'è sempre il prodotto da Raspberry. Quindi facciamo questi test. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. Grazie. quindi oggi vediamo con la raspberry come si possa campionare un segnale analogico abbiamo detto che la raspberry non ha integrato un convertitore analogico digitale una dc con pochi euro come vedete su questa scheda è stato installato mcp 3008 che appunto un tema analogico digitale che ha diversi canali di ingresso vedete addirittura sa otto canali da 0 a 7 un po che se non sbaglio posto davvero sui tre euro possiamo avere un campionatore analogico digitale su sette canali con una frequenza che non mi ricordo male attorno ai 500 k e il vantaggio di questo sistema è che la parte digitale è che è in grado di comunicare sulla sul protocollo spi quindi vedete l'interpassa di sinistra tra i pin di ingresso per leggere segnali analogici e a destra abbiamo l'alimentazione ea poi abbiamo i pin che sono stati connessi alla raspberry pi alla porta spi ai pregetti segnali mosi miso il croc sono stati connessi di 3 3 cavi per comunicare col protocollo digitale spi ai vado un attimo a cercare le caratteristiche di mcp 3008 perché non ve le ricordo mcp 1800 nonostante il prezzo è effettivamente molto performante questo vi dico io ti grazie allora allora una dc a 10 bit quindi il campionamento e la quantizzazione a 10 bit e sto cercando le caratteristiche così dico si lavora fino a 500 k come no non è condiviso lo stavo guardando io mi serviva solamente davanti questi numeri quindi tornando a noi ecco quello che vediamo è appunto useremo questa mattina questo sistema analogico digitale che è stato montato sulla schedina da paolo come vedete quello integrato nero con i piedini al quale è connesso sul canale 0 un sensore di temperatura lm 35 sul canale 2 invece una foto resistenza allora come come sono connessi partiamo dalla foto resistenza che cos'è è un resistenza che varia la sua resistenza interna al variare della minuzione che questa riceve e la foto resistenza è stata collegata tra ground e l'alimentazione in questo caso paolo ha usato la 5 volt chiaramente non possiamo mettere semplicemente la foto resistenza tra cinque volte ground perché è una foto resistenza che ha una resistenza molto bassa altrimenti cremo un cortocircuito passeremo una grande quantità di corrente la foto resistenza si brucierebbe quindi anche la foto resistenza come vedete in serie con lei ha una resistenza chiamata r7 di 100 kg la resistenza molto alta che limiterà notevolmente la corrente del circuito per far sì che la resistenza non si bruci e ma possa mantenere il possa mantenere la quantità di corrente molto molto bassa dove abbiamo collegato il pin 2 di mcp 03 l'abbiamo collegato proprio in questo nodo qua vedete che tra la resistenza fissa r7 e la foto resistenza quindi siccome il nostro adc è un misuratore registra e misura la tensione quindi v vai a misurare la variazione di tensione che c'è fra questo pin e ground e quella la tensione che noi misuriamo in questo capo a cosa è dovuta beh è dovuta alla caduta di tensione della resistenza r7 che è costante perché r7 fissa e più la caduta di tensione invece generata dalla nostra foto resistenza questa sarà variabile quindi noi misuriamo la caduta di tensione nella foto resistenza che è proporzionale secondo la legge di ohm alla resistenza interna della foto resistenza la quale a sua volta è proporzionale all'intensità luminosa quindi noi in realtà andiamo a misurare in maniera indiretta la luminosità andando a leggere la caduta di tensione che è proporzionale alla resistenza interna che a sua volta è proporzionale alla luminosità questo è ciò che andiamo a fare sui sul canale appunto 2 il canale 1 scusate il canale 0 invece è collegato a un lm 35 che è un sensore di temperatura fatto proprio per registrare la temperatura è un sensore analogico anche questo si basa su una resistenza interna però diciamo è più standardizzato perché come vedete ha una porta di alimentazione 5 volt il ground e un'uscita v out l'uscita v out è una tensione che è lm 35 ci fornisce quindi non ha bisogno di un condizionamento esterno come la foto resistenza e questo questa tensione è proporzionale alla temperatura di nuovo ricordiamoci che con gli adc noi leggiamo la tensione quindi quello che andremo a leggere sul canale zero è la tensione fornita direttamente dell m35 è proporzionale alla temperatura cui è sottoposto lm 35 e l'abbiamo semplicemente alimentato come specifica proprio il il data di questo sistema ok stimmi sì sì sì sì stai parlando di in due sulla foto resistenza allora quel quel nodo è un nodo che si trova ad una tensione che è dovuta da che cosa da cinque volte quella che noi imputiamo caduta di tensione della resistenza costante sommata la caduta di tensione della resistenza variabile quindi quel nodo lì ha un valore di tensione che è dovuto dalle dalle due resistenze da una sola una è fissa e una costante ok quindi io misurando in quel punto lì misura una caduta di tensione che in gran parte è data da r7 in gran parte perché r7 grandissima no quindi dai cinque volte già r7 ci porterà a un volte due con quello del genere più l'altra caduta di tensione che invece è variabile perché varia la fotoresistenza quella resistenza r7 grande ci serve solo come limitato come limitatore di corrente altrimenti la fotoresistenza si lucerebbe tra cinque volte grande che però non è che resistiamo la registriamo alcune di tensione costante per resistenza r6 no perché in quel punto la tensione è data appunto da r7 più una qualcosa x che non conosciamo è una variabile x ritorna si chiamerebbe partitore resistivo esatto perché cambia quella sotto no cambiando quella sotto stese proprio così come pulisco così vediamo meglio quindi se ci fosse solamente r7 hai ragione tu chiaramente io becco la costante ma in questo punto qua abbiamo proprio che la tensione è data da r7 più rx che noi non conosciamo con la legge di ohm ok e quindi noi serve proprio conoscere r7 costante per poter calcolare rx vi dicevo r7 deve essere molto grande altrimenti bruciamola fruttore resistenza ok bene a questo punto vado invece a condividere la nostra raspberry quindi cambio la condivisione condivido lo schermo della raspberry perché iniziamo a fare proprio questa prova come la volta scorsa lanciamo il nostro tool di programmazione che si chiama tonni e vediamo se ci funziona questo lo chiudiamo andiamo a fare un new e lo salviamo come e non proviamo la foto resistenza punto poi andiamo a importare quindi come la volta scorsa from general partos input auto zero questa volta facciamo l'import della classe che si chiama mcp 3008 quindi come vedete nella libreria del parco simpato zero esiste proprio una classe che si chiama come l'integrato che abbiamo comprato noi proprio perché è uno dei più diffusi sia perché uno dei più economici ma anche perché appunto è diffusissimo nell'ambito dell'iote e ci sono esiste proprio questa libreria poi from time andiamo a fare anche qua l'info di slip che ci servirà per attemporizzare il nostro super loop super loop e ora andiamo a creare un'istanza della classe mcp 3008 sul canale 2 se non sbaglio abbiamo detto la foto resistenza vado a vedere si è sul canale 2 per leggere la tensione alla foto foto e foto resistenza quindi mettiamo reading uguale quindi il nome dell'oggetto lo chiamiamo reading mcp 3008 che è appunto il nome della classe di channel channel 2 differential questo serve uguale a pulse e poi max voltage avevamo tarato 1.5 allora cosa vuol dire che abbiamo fatto abbiamo utilizzato una come stanza di mcp 3008 gli abbiamo passato alcuni parametri di configurazione channel 2 perché appunto ha otto canali da 0 a 7 e gli chiediamo dove vogliamo leggere vogliamo leggere sul canale 2 diciamo che la configurazione differenziale è false che cos'è la configurazione differenziale allora un analog to digital converter non adc può misurare normalmente se mettiamo la la configurazione differenziale false misura la differenza fra il canale scelto in questo caso il canale 2 e ground quindi lui ti misura la tensione sul canale 2 rispetto a ground questo vuol dire però io posso configurare il mio adc che ha più canali anche in maniera differenziale cosa vuol dire io posso usare il canale 0 e il canale 1 e lui mi calcola la differenza fra 0 e 1 se metto differenziale true gli devo passare però i due canali di gestione differenziale altrimenti se metto che la complicazione differenziale è falsa il canale scelto viene misurato rispetto a ground e a volte la complicazione differenziale è utile perché appunto io sono in un circuito con non ho un ground comune quindi verso ciò in cui misuro il ground non è comune con me allora conviene fare un differenziale tra i due poli che voglio misurare però a me non mi appartengono ok? in questo caso il ground è comune se è vincorato nel circuito quindi mettiamo differenziale al polo esatto esatto e poi lo sottrai esatto esatto quindi tu prendi solamente quello che ti interessa quando sai la massa comune non usci il differenziale quindi in questo caso il ground è comune sia alla fotoresistenza che alla dc quindi non mettiamo in conto che sono i differenziali quando il ground non è comune appunto per rimuovere disturbi che tu altrimenti leggeresti e fai in questo modo max voltage gli diciamo guarda i tuoi bit che sono 10 spalmali fra 0 e 1 che quella 5 semplicemente gli diciamo questo da dove nasce questo 1,5? beh dalla quantificazione della resistenza r7 che abbiamo dato prima le leggi di ohm sappiamo che la fotoresistenza che dal data sheet ha una variazione tra x e y al massimo il voltaggio sarà 1,5 così gli diciamo di spalmare i bit solo tra 0 e 1,5 a 10 bit è chiaro che in questo modo lui diventerà più risoluto e la quantizzazione sarà molto più stretta bene adesso allora possiamo andare avanti e effettua la lettura del valore sul canale non abbiamo configurato la frequenza del campionamento dell'emcp 3008 di default parte al massimo a noi interessa un punto quindi non è che dobbiamo prendere un'onda una forma d'onda e quindi in realtà possiamo campionare anche frequente più basse quindi andiamo a leggere un punto semplicemente quindi facciamo il nostro super loop super loop quindi while true vado a leggere quindi un valore di ritorno che chiamerò che è la tensione alla foto resistenza sarà uguale a reading che è la mia classe punto velo e ora andiamo a stampare print diciamo che il v 8 chiaramente questo è un valore di tensione poi bisogna conoscere il dettaglio della patroresistenza per trasformarlo in qualcosa che ha a che fare con le università tipo il luxo virgola v v v. e poi facciamo un slip dico un secondo ok facciamo un save proviamo ad eseguire e vediamo cosa succede allora sta formando dei valori 0,004 e poi come vedete il successivo cambia in continuazione intanto il rumore termico della fotoresistenza comunque una variazione luminosa ci sarà sempre non leggeremo mai con una risoluzione così ampia un valore costante ma devo vedere se funziona la fotoresistenza perché mettiamoci una mano sopra ecco vedete mettendoci una mano sopra la prima cifra è cambiata dal 0,004 siamo andati verso 005 adesso addirittura 1 che ne sono abituato tantissimo è un'attività di 0,004 è un'attività di 0,005 eh dopo dipende anche le fotoresistenze non sono tutte uguali perché considerate che ne abbiamo comprate un pacchetto se ne erano 100 in Cina da capire come sono fatte se gli fate sopra magari la luce con uno smartphone vedrete sicuramente che la saturate è quasi 00,005 intanto abbiamo capito che la tensione è inversamente proporzionale alla luce che colpisce la resistenza quindi vuol dire che la resistenza aumenta con l'aumentare della luminosità avete individuata no la fotoresistenza che quella che giocascio faceva una sorta di serpentino io ho poggiato proprio il dito quindi dovrebbe essere tipo il buio pesto buio pesto tipo due set però vi dicevo dipende dalla fotoresistenza esatto non sono tutte uguali cioè questi oggettini qui a bassissimo costo bene uno questi oggettini qua a bassissimo costo come vi dicevo non hanno una gran eh io sono a 0,5 al massimo 0,3 0,3 0,4 0,52 ah vedi sì e pensate sarebbe facilissimo quindi con la raspberry pi fare un trigger quando qualcuno accende la luce in casa perché se spegni la luce basta un if semplice lei campiona poi if allora questa cosa qua scende sotto 00 però tu vuol dire che uno ha acceso la luce in casa sì noi l'avevamo l'avevamo installato qua noi lo facciamo con il laser facevamo un led infrarosso che produceva luminosità e di là una fotoresistenza che è sensibile all'infrarosso sulla frequenza dell'infrarosso. Quando passava qualcuno l'infrarosso. l'infrarosso veniva chiuso e di là si accorgeva che era una persona. si si esatto così già io lo imbalzo e infatti era sempre alimentato e adesso vabbè i contatori di presenza si fanno più con analisi di immagini che li basalette una webcam che identifica la sagoma della persona. ci sono anche più persone perché magari se in due passavano una fianca all'altro se ne contava una volta, capito, con la fotoresistenza, invece con il telecamera riesci proprio a dire sono due persone, sono tre persone, visto che la capacità di questi strumenti è diventata molto alta. Bene, quindi siamo riusciti a vedere, come dicevo, questo è un valore di tensione, poi se prendiamo il data sheet, andiamo a risalire alla resistenza col partitore resistivo, dalla resistenza proviamo a calcolare i lux, che sono l'unità di misura della luminosità, con tutto che questa fotoresistenza che costa veramente poco è poco stabile e anche poco standardizzabile, quindi se vogliamo un valore della luminosità reale sicuramente non vogliamo questo strumentino qua. Adesso chiudiamola e proviamo invece a cambiare canale, facciamo un nuovo file, così questo non mantenga un buon, e proviamo invece a leggere sul canale 0 la temperatura. Quindi facciamo un file da qua, nellochiamo lettura, temperatura, temperatura. Rifacciamo con general file, quindi in più t'auto, 0, port di mcp3008, runtime, link, slip, e poi creo list di mcp3008, quindi lo chiamiamo temp reader, ad esempio, uguale a mcp3008, gli diamo come channel 0 questa volta, dove è collegato l'lm35, differential uguale a full, anche qui max voltage, sarà 1.5, visto come abbiamo configurato le liste. noi adattati la resistenza all'union celava, lavorato a 5 volt e ground, e la sua guauta specifica di lm35, r1.5. quindi, vado a leggere la temperatura, temperatura, nel loop, loop, quindi, while true temp, allora, in realtà, non chiamiamola temperatura, perché utilizziamo la tensione, quindi, v, v temp, che sarebbe la tensione, del, la temperatura, è uguale a, la nostra, temp, reader, punto, del loop. questo è il valore, quindi, diciamo, print, questo è il nostro, valore, tensione, su, lm35, virgola, v temp. Stiamo stampando, la tensione, registrata, dal m35. Però, sappiamo, dal data sheet, alcune cose, che, intanto, allora, la tensione, riportata, da, il nostro, ADC, sarà fra 0 e 1, nel range, quindi, la rimoltiplichiamo, per 3,3, così, perché 3,3 è l'alimentazione, dell'ADC, così, siamo in un valore, di tensione, eh, espresso, rispetto, appunto, ai 3,3 volt, perché quell'altro, invece, sarebbe, un valore di tensione, tra 0 e 1. Quindi, chiamiamolo, real, volt, è uguale a, v temp, moltiplicato, 3,3. Ci metto un commento, 3,3, è la, tensione, di, di, alimentazione, di, MCP, 1800, così, quella è la reale, tensione, che ho letto, su, il capo, di LM35, diciamo, anche questa, print, così vediamo la differenza, valore, valore, valore, valore,ruptione, Bene, grazie al datasheet di LM35 è molto facile trovare la temperatura perché basta moltiplicare la tensione reale per 100, quindi Temp in gradi centigradi sarà uguale a real volt moltiplicato per 100. E ora vado a fare una stampa, print, questa volta la posso chiamare proprio temperatura, quindi temperatura, due punti, la nostra Temp C e poi il solito slip magari a un secondo. Come? Come? Come? Come? Come? Come? Come? Esatto, possiamo anche metterli di più. Però proviamo a vedere cosa succede. Intanto anche qui ci sarà un rumore termico, quindi non è che leggeremo sempre lo stesso valore, solo che cambieranno i bit meno significativi. Adesso ci dice 31 gradi. Allora considerate che la temperatura che sta leggendo è la temperatura sopra lo shield, dove sotto c'è un processore che sta eseguendo, che sta scaldando la manetta. La mia sta lavorando molto di più perché è in desto premuoto. Poi se ne potremo mettere il dito sopra l'LM35 sta salendo a 32. E quello vicino all'integrato, quell'affarino nero con tre piedini vicino all'integrato, e da 12. La mia sta salendo. Si ho posato il dito e è arrivato a 33,7. 34. 34. 34. 34. Allora, ma l'ha detto Paolo che c'era qualche scheda in cui l'LM35 non funzionava, faceva le badde. C'è qualcuno che ottiene dei valori significativi? Perché hanno un senso? Adesso ho tolto il dito e si comincia a raffreddare di nuovo. Sta tornando verso 33. 32,7. No, allora vuol dire che c'è un'interferenza elettromagnetica. Vuol dire che la pista probabilmente non è venuta bene, la saldatura di LM35. Perché se si avvicini la mano così, stai portando semplicemente delle onde elettromagnetiche, quindi sta interagendo male lì dentro. Il mio invece sta funzionando, nel senso che si sta riabbassando al 31. Sta misurando, mi dicevo, temperature molto alte, ma se sentite il mio shield, effettivamente il mio shield è molto caldo. Quindi lui sta misurando la temperatura lì sopra. Quindi se volessimo usare la Raspberry Pi per misurare la temperatura, dovremmo fare, abbiamo due opzioni. O mettiamo il sensore lontano, con un filo, così il sensore non sta sullo shield, non si becca tutta la temperatura, tutto il caldo, scusate, prodotto dalla CPU, dalla RAM, eccetera. Però, come potete immaginare, questo rende il circuito più delicato, perché c'hai un filo lontano, rende il circuito anche più complicato da installare. L'alternativa cos'è? Possiamo mettere una ventolina che porta aria fresca sempre al sensore. Prende aria dall'ambiente e gli porta aria fresca. Così abbiamo due vantaggi. Uno, raffreddiamo anche la Raspberry, perché facciamo passare l'aria magari fra lo shield e la Raspberry, raffreddiamo la CPU della Raspberry, ma in più prendiamo sempre aria fresca. E quindi il sensore misura davvero la temperatura dell'aria nella stanza. perché magari lo mettete subito vicino alla ventola, viene investito dalla ventolina, viene investito dal pulsodare, prodotto dalla ventolina, e quindi misura tutte le volte la temperatura reale. Questa è la soluzione che vi piace di più, però introducete un po' di noise, un po' di rumore, perché una ventolina un po' di rumore lo fa. Il bello della Raspberry Pi è anche quello di essere totalmente passiva. Ci sono raffreddatori totalmente passivi, cioè sopra la CPU ci puoi mettere questi sistemi di dispersione metallico e lo fa nessun rumore. Io non sono più raffreddatori, ma non sono più raffreddatori. Un po' funzionizzano. È bello perché essendo totalmente passiva, tu lo puoi tenere in casa nel salotto, lei fa i suoi campionamenti e non senti niente. Si comincia a mettere la ventolina, per quanto siano silenziose, un po' di rumore. Ecco, da me si è stabilizzato a 31 e non credo che si abbasserà oltre. Bene, allora, prima di passare a Sense Hat, facciamo l'ultimo esperimento, perché come vedete Paolo ci ha collegato anche un motorino a quelle presette, a quella piccola morsettiera azzurra, blu, dove ci sono due viti. Questi due viti portano la massa direttamente dall'alimentatore, mentre il polo che porta la tensione è pilotato da un transistor. Il transistor è uguale come struttura all'LM35, lo vedete qua, questo aggeggio vicino alla morsettiera, quell'aggeggio di nuovo, nero, con tre pin, è un transistor. E voi sapete che il funzionamento logico di un transistor è assimilabile a quello di un interruttore, no? Solo che la bellezza del transistor è che è un interruttore che viene aperto o chiuso semplicemente dando o togliendo tensione al gate, che è il terzo pin. Quindi il pin 1 e 2, diciamo così, vanno in conduzione, sediamo tensione o togliamo tensione, escono dalla conduzione, se togliamo tensione al gate, che è il pin 3. Quindi è di a tutti gli effetti un interruttore dal punto di vista logico, è un interruttore però non meccanico, non è effettivamente un relais, non è che c'è nulla che si muove al suo interno, è molto robusto e vi permette quindi di pilotare un circuito, in questo caso di pilotare la tensione sul motorino che proveremo a far girare. Perché abbiamo collegato il motorino tramite transistor? L'abbiamo detto l'altra volta, perché la General Purpose Input Output non forniscono tanta corrente, per accendere un LED va bene, ma se io avessi collegato la General Purpose Input Output direttamente al motore, quando mando il pin alto a 3,3, in realtà la corrente non è sufficiente a far girare il motore, il motore non gira, perché non basta la corrente che passa all'interno della General Purpose Input Output. Allora, l'idea è disaccoppiare la potenza della General Purpose. La General Purpose produce solo il segnale acceso-spento. La potenza la prendiamo o da un relais che chiude il circuito tra l'alimentazione e il motore o un transistor che costa di meno. Ecco che abbiamo provato a fare questo piccolo circuito con il transistor. Il transistor è comandato dal General Purpose Input Output Output se non ricordo male. Quindi proviamo adesso ad accendere il motore. Quindi facciamo un new file, lo salviamo con il motore, motore.title, bene, facciamo from General Purpose Input Output Zero. Andiamo a fare l'import, questa volta di Output Device, mi sembra che si chiami così, perché non me lo ricordo mai. Allora, General Purpose Input Output Zero, Output Device. Allora, sì, mi sembra che si chiami più Output Device, in questo modo. API Output Device, sì. Ok. Ok. From Time, Input Slip, Io stiamo superando all'itamof, cioè, solleviamo è l'여vo output diese, quindi, Amput Abuse Inputoir, si chiami più Ev reward, quindi, solleviamo dopo il motore, ci chiamiamo square fences, qui posso fareintegrate il motore In realtà potevano anche usare la classe LED perché alla fine, anche se non c'era collegato un LED, l'importante era dargli il segnale 01, però auto device è generico. Motore, auto device, e se non ricordo male, magari guardo la mail che mi ha mandato Paolo per le cavolate, era sul General Park, così un put out 17. Adesso ci guardo così evito di dirvi una cavolata. Il pin mi diceva. Il pin di motore è 17, sì. Ok, adesso partiamo il super loop. Ascendo e spengo il motore nel super loop. E vediamo se è possibile. While True. Abbiamo il nostro motore. Motore.com Slip un secondo e poi Motore.com Quindi facciamo una vibrazione come telefono. Andiamoci a pensare. È una vibrazione grossa. Sono motori potenti, questi che ci ha messo Paolo. Sentite quante energie hanno bisogno, ecco perché la General Park non ce la farebbe, perché è per produrre tutte le vibrazioni. Iniziamo a pensare. Ho fatto l'app quando è in prodotto, praticamente mi rimane acceso a mani. Mi funziona? Sì. Possiamo provare? Non so se il pin... Il transistor? Adesso diciamo che non è la cosa migliore usare un transistor. Non l'abbiamo fatto perché il transistor occupa poco spazio sullo shield, costa poco. Invece di metterci un relais. L'ideale si scalda. L'ideale è stato di metterci un relais. Non mi ricordo se l'audio il 17, il pin 17 ha anche funzionalità di pulse width modulation. Perché possiamo provare invece se il nostro pin 17 avesse anche funzionalità di pulse width modulation, possiamo modulare la velocità del nostro motore. Proviamo a fare from GPO0 import pulse width modulation output device. Proviamo a importare pulse width modulation output device invece che output device. Chiamiamolo pulse width modulation output device. E invece di fare il motore on, si fa, per quella che ci sono la documentazione, value, mi sembra. Il motore on, lo impidiamo invece. Motore on, lo impidiamo invece. No, però dovrebbe variare un pochino dal suo spirito. Mi dite? 0-2 quasi lo ferma. Sgasiamo. Sì, un po' è che questa elica non è bilanciata anche. Questa che ha fatto Paolo con la stampante non è bilanciata e quindi fa vibrare di brutto. S packet. S techn buzz Maple, a Parker, come se faccio i contenuti da unata igiene. Potrengo fare una rana un po' più... quando lo spegne rimane a 1 ho messo 0-1 non si muove quasi per niente 0-1 no deve aspettare 0-3 per la partita 0-3 per la partita 0-3 per la partita 0-3 per la partita 0-3 per la partita 0-3 per la partita 0-3 per la partita 0-3 per la partita 0-3 per la partita 0-3 per la partita 0-3 per la partita 0-3 per la partita smontiamo lo shield autocostruito ci mettiamo il sensato così proviamo questo altro tipo di strumento io sospendo la registrazione allora a a a a a a a a a a a a a a a a a a a a a a a a a a a a a infatti ce ne erano qualcuni che facevano cose strane davano 50 gradi si avvicinavano con la mano e sì sì lì secondo me c'era qualche interferenza elettromagnetica che vuoi considerate queste sono di manifattura davvero basta perché le abbiamo trovato 15 mi sembra per poi per poi era meglio di questo font zero se elarak anche la luminosità si deve vedere io bar 50 allora siete riusciti a far partire questo allora di qui vediamo un attimo prima che cos'è questo aggezzo che abbiamo attaccato sopra vedete sto proiettando lì nel sito web proprio ufficiale della raspberry pi la registrazione si è ripresa vediamo che questo questo shield fatto apposta per la raspberry ha intanto una bella matrice di led rgb e li avrete già visti perché appena prende la corrente fa una bella flashata di luminosità poi al di là della matrice di led che viene usata come schermo alla fine perché si può controllare per scrivere dei caratteri sullo schermo quello che ci interessa è che questa scheda contiene diversi sensori vedete qua include il giroscopio l'accelerometro un magnetometro un sensore di temperatura un sensore barometrico quindi di pressione atmosferica e uno di umidità quindi è davvero completa come shield e praticamente c'è una grande quantità di sensori non solo c'è una libreria molto funzionale in python per per ripari quindi è davvero facile adesso vedremo scrivere codice fare dei test e non costa pochissimo costa mi sembra torna i 30 euro 25 30 euro non costa però diciamo è completa ecco quindi se per ambienti è esatto c'è veramente tanto l'altra cosa molto bella e questa guida che vi faccio vedere che si chiama getting started with the sense at che è di nuovo la guida ufficiale che passo passo vi fa vedere tutto il funzionamento e vi fa vedere come utilizzarla quindi c'è l'introduzione addirittura vi dice no cosa cosa contiene vi dice come installare la libreria vedete siete sulla queste queste cose sono già nella nostra raspberry pi ma vedete semplicemente con la pt get install sensat scarichi tutte le librerie python digitali per la nostra raspberry e vi fa vedere come si attacca o proprio è passo passo quello che vedete ci dà la possibilità di gestire questo oggettino addirittura fornisce un emulatore di sensato quindi potete provare a programmarlo utilizzarlo senza avere nera sberri pai né sensato quindi se volete provarci praticamente con un emulatore ma noi fortunatamente ce l'abbiamo e la prima cosa che andiamo a fare è provare proprio a scrivere un messaggio nella nostra matrice di led ok vediamo adesso come si è fantastica adesso vedete come funziona è davvero davvero davvero easy allora adesso io vado a condividere spero di farcela vado a condividere la mia raspberry dove vi dicevo già tutte le librerie sono state installate apriamo il nostro python toni toni python e proviamo a scrivere qualcosa del display quindi buttiamo giù questo facciamo il new e lo chiamiamo seppena avviata ok lo chiamiamo test display punto python allora quindi facciamo un chrome la libreria sters and the school art che quella che hai parlato paolo su queste sberbi facciamo import di app app con l'acqua ok quindi devo sì bene poi credevo creò seppena quindi quindi seppena quindi seppena quindi seppena seppena ad esempio uguale seppena non ha il costruttore non ha bisogno di nulla ma e se facciamo la versione la la la la utilizziamo la libreria minimale possiamo già fare show messa quindi vediamo cosa viene fuori se facciamo seppena seppena un più no message che riceve una stringa ciao ciao chiusa la tonda invio vediamo cosa succede questo è proprio la la libreria minimale cioè la funzionalità minimale non abbiamo settato colori non abbiamo settato nulla vediamo cosa succede vedete ciao mondo scorre sul nostro display non può fare diversamente perché come capite la matrice è veramente piccola no però è carino cioè in automatico questa libreria temporizza le scritte avete vista avete vista e vi da la possibilità quindi di scrivere e vi da la possibilità quindi di scrivere quindi è vero che costa 30 euro però insomma è si poi è così luminosa che cattura la nostra attenzione allora facciamo stop e facciamo invece una una configurazione in più dichiariamo i colori ad esempio blu lo dichiariamo con la sintassi rgb quindi 0,0,255 poi yellow ad esempio lo yellow lo facciamo 2,5,255,0 e adesso andiamo a stampare il show message come prima ciao mondo però adesso gli passiamo i colori virgola text color sarà il nostro yellow e back color sarà blu trovi un po' save come si chiama? come si chiama? come si chiama? come si chiama? aspetta vado a vedere sulla libreria ho sbagliato qualcosa ma color color color ma cos'è la francese? eh bravo eh non me lo ricordo mai vedete è cambiato adesso funziona e metti una sopra l'altra poi rimane lo sfondo azzurdo anche io poi le compro fai la fattura dove sono le registrazioni perché se trova le registrazioni su moodle dopo sei a posto come si può definire l'intensità? si può definire l'intensità la velocità anche si può definire la scroll speed proviamo un po' vediamo come si definisce la nostra speed scroll underscore speed quindi voglio mettere la scroll speed qua 0.001 non so se così va più lento o più veloce però è un po' run no così va velocissimo troppo veloce allora togliamo qualche zero togliamoli tutti e due gli zeri eh sì credo che sia così è un delay quello vedete fa uno step al secondo quindi quello è proprio il delay vedete tac tac tac 26� bene quindi abbiamo visto che effettivamente è molto facile scrivere un messaggio grazie appunto questa libreria di altissimo livello poi è totalmente configurabile quindi addirittura io posso accendere ogni led che è una matrice con le sue coordinate quindi lo posso fare a mano anche volendo dicendo il led quello la va di questo colore dove la colore è sempre la tripletta rgb quindi è davvero molto versatile bene adesso vediamo invece le coordinate questo lo lasciamo così adesso andiamo a vedere invece i nostri sensing ok proviamo a quindi questo lo salviamo così ne facciamo uno nuovo nello chiamiamo quindi facciamo un from import e adesso andiamo a misurare la pressione quindi presso prende punto get presso molto facile e poi facciamo print pressione atmosferica due punti visola presso vediamo cosa ci dà però mi ritorno ecco la prima lettura è zero poi dopo ritorno 974 che saranno millibar vedete quindi la libreria mi dice di fare clear vediamo cosa c'è punto clear punto clear ma pulito al momento clear ma cancellato tutti i led che erano rimasti accendenti quindi vedete qui già è molto è molto facile come potete immaginare dare a leggere la pressione leggiamo anche la temperatura la prima lettura da zero punto get andesco tempere alture credo che sia sì siamo primi di temperatura via temperature vediamo se ci dà una temperatura cambia un senso 33 gradi e soffre del problema di prima anche questa anche la anche questa anche la senza si scalda bestia perché poi c'era tutti i led accesi prima produce tanto calore il solito discorso il sensore è un sensore integrato sopra il pcb bisognerebbe ventilarlo per avere una temperatura sicuramente più corrispondente alla temperatura ambientale perché lì il pcb si scalda sia perché sotto c'è di nuovo la cpu della raspberry in più c'è tutti questa matrice di led che come potete immaginare producono comunque del calore quindi proviamo anche l'umidità siamo dai leggo leggo l'umidità è nel millibar mi sembra perché diciamo la pressione a livello del mare è sui mille qualcosa millibar che siamo più in alto sì no non c'è l'atmosfera io spero di no il sensore proprio digitale è attaccato a adesso proviamo a leggere l'umidità quindi quindi è uguale a pens.get vediamoci quindi per tutti i umiditi umiditi print puntata due punti umidità 31 per cento dovrebbe essere una percentuale quella un esperimento che significa che non lo spero di metà vuol dire quando si frigge però ci sta che l'umidità sia così bassa qui dentro perché sicuramente da stanotte io c'ho 31 quanto ti dà voi? eh ma anche me mi dà sul 31 quanto sappiamo ancora cinque minuti proviamo a leggere anche l'accelerometro dai leggo leggo l'accelerometro acceleration acceleration uguale a fence punto get accelerometer accelerometer row e questo è il metodo per ritornare i propri valori diretti dell'accelerometro in un array tutti i tre assi quindi adesso dobbiamo andare a separare la x è uguale ad acceleration dove vado a prelevare la componente x y y y uguale ad acceleration dove vado a prelevare la componente y z e qui primo x x x x x x x 0 vediamo se ci ritorna un valore che abbia un senso 0 0 meno 0 4 e 10 ok adesso mi piace di più perché un asse deve essere attorno a 1 un asse deve essere attorno a 1 perché l'accelerometro misura la porta di gravità se è ferma quindi vedete che un asse che è z z vuol dire che è perpendicolare al tavolo ritorna a 1 c'è un g l'accelerazione gravitazionale mentre sugli altri due assi non c'è adesso magari per vedere che il tutto funzioni mettiamo il tutto in un ciclo un while quindi facciamo un super loop super loop facciamo while true due punti postiamo tutto il codice non abbiamo importato slip adesso andiamo a perdere Pablo quindi from time slip e qua in fondo facciamo slip di 0 mezzo secondo e vediamo cosa succede perché poi vorrei provare anche a scuoterla 0 0 0 0 0 adesso la scuotiamo ho raggiunto un g un g e tre 2 g quello comunque dai 95 bene come avete visto insomma con questa sensazione è davvero facile accedere ai sensori fare le letture e poi c'è questo display carino che permette di scrivere quindi magari misurate la temperatura e la scrivete di sopra perché in realtà il senso di umidità lo conosco ci ha integrato anche la temperatura che l'ha integrato perché spesso e volentieri fa la correzione l'algoritmo poi dell'umidità in base alla temperatura che diciamo la intera di una temperatura è toccata correggo la mia umidità che in realtà sto misurando male poi c'è un joystick che non ho detto il joystick questo pulsantino qui che in realtà c'ha due atti esatto come tra l'altro il joystick mi sta facendo muovere il mouse un testo figo e spingo da una paella tac tac la pressione mi fa l'invio praticamente sì l'è presente ma se spingi semplicemente ti fa invio ci manda capo figo dai quindi la raspberry già lo riconosce di suo come dispositivo di input bene io direi che possiamo portare possiamo lasciar down della raspberry perché è ora di liberare l'aula ah sì sì sì quindi voi rimanete nell'aula ok però spegniamo dai le raspberry così le smontiamo le portiamo di là io blocco la registrazione termine della registrazione grazie a tutti