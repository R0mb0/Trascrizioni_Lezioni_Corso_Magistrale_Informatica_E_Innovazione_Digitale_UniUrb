fortuna adesso sì però quindi dicevo iniziamo con questa lezione dove andiamo a vedere appunto quello che l'aspetto di edizio più di queste piattaforme che avremo poi a programmare andiamo a vedere come si gestisce la parte di sensoristica di attuatore e andiamo a vedere come si estragge si acquisiscono dati e come questi li possiamo pre processare già nella parte di sensi quindi nella parte on board dell'edizio iniziamo proprio con sensori e attuatori come vi dicevo un sensore non è nient'altro che un trasduttore inteso come un sistema fisico che sia in grado di acquisire informazioni su una qualche grandezza fisica quindi temperatura luce moto eccetera convertire questa grandezza fisica in un segnale che dapprima sarà un segnale elettrico normalmente di tipo analogico che poi dovrebbe in qualche modo convertito in digitale per poter essere trattato poi all'interno di queste macchine dalla parte opposta invece abbiamo gli attuatori che sono un qualcosa invece di alto mentre i sensori sono queste interfacce di attuatori invece sono interfacce di output l'auto c'è chiaramente può essere un display un sistema audio ma normalmente ecco quando si parla di attuazione di fare per niente un relais è semplice intermotore comandato con un segnale motori e via dicendo e l'altra cosa che ci interessa che vedremo però una parte successiva è la comunicazione la computazione quindi cosa possiamo fare di vista computazionale sul legge e vedremo che in realtà sul legge non farei tanto perché parliamo di piattaforme davvero piccole normalmente 4 di umani tanta roba queste piattaforma quindi avere quattro o sei chilometri di ram vuol dire che non potremo fare cose grandiose allo stesso modo parliamo di processori che girano a qualche megahertz quindi di nuovo non potremo fare cose chissà quanto grandiose come computazione perché l'altro aspetto è anche il problema di degli aritetti spesso questi sistemi sono dotati di batteria e quindi usare troppa cpu genererebbe un consumo troppo rapido della batteria che poi deve in qualche modo essere sostituita la comunicazione di qua vedremo che abbiamo diverse diversi sistemi di comunicazione diversi canali dai wire dai wireless e in base a quelli nostra disposizione chiaramente noi andremo a scegliere il più appropriato abbiamo già detto che lo spettro dei dispositivi e ampissimo abbiamo già detto che il nostro sistema si fonda essenzialmente su un processi di unit quindi sensi in processi che invio dei dati e se non sbaglio abbiamo già detto l'altra volta che il motivo per il quale proprio per il fatto che i sensori cioè la parte fondamentale quella che cresce trasgurre ha subito delle variazioni negli ultimi anni notevoli sia dal punto di vista del consumo energetico che si è abbassato notevolmente fino ad arrivare ecco a pochissimi millivatt sia il costo che continua a calare grazie al fatto che questi sistemi ormai sono tutti microfabbricati quindi si parla ormai di sensori MEMS che hanno la caratteristica di consumare poco ma di essere prodotti in larga scala quindi di costare anche davvero davvero poco la parte di attuazione abbiamo visto ci facciamo riferimento a motori sistemi audio facciamo il riferimento a pompe insomma sono tutto ciò che ad esempio in una casa domotica o in un'industria può essere in qualche modo utilizzato per attuare cioè per fare un'azione chiaramente la iot funziona a prescindere da qualsiasi cosa ci colleghiamo la cosa più generica che possiamo pensare di avere è un relè un relè che semplicemente chiude un circuito poi in quel circuito ci possiamo collegare qualsiasi cosa ma adesso veniamo veniamo al dunque cioè alla fase di acquisizione prima del progetti ora la fase di acquisizione come vedete qua è quella di nasce proprio con la trasduzione del segnale fisico e la trasduzione del segnale fisico avviene grazie a un sistema hardware che chiaramente è immerso in quel in quella grandezza fisica e riesce in qualche modo adesso ad essere ad essere ad essere a un interno come se pensate a un microfono un microfono che riesce a catturare l'audio come fa a curare semplicemente non nel bar noi sappiamo che il suono è una perturbazione del dell'aria perché l'aria si comprima ci rilascia quando il suono arriva a questa bella nella nella che della parte si porta e si tiene iniziale con una sua massa e la sua elasticità spostandosi in base alla perturbazione del del l'aria subito e genera in qualche modo un segnale non produce un segnale poi a questa membrana può essere tipo il pietro elettrico può essere tipo capacitivo è un microfono a pietro elettrico come funziona funziona grazie al fatto che la membrana spostanti compri in qualche modo un cristallo pietro elettrico noi sappiamo che materiale pietro elettrico se subisce una forza di torsione cosa produce produce un segnale elettrico proporzionale alla forza che questo di cui la forza al quale è sottoposto quindi grazie al trasduttore quello che otteniamo è proprio che un una perturbazione dell'aria in questo caso il suono venga ad essere tradotta o trasdotta in un segnale in voltaggio perché se noi vediamo una cosa così vuol dire che qua avevamo una forte onda che ha compresso il pietro elettrico poi l'onda si è rilasciata e magari l'onda ha subito anche un cambio di senso diverso quindi il senso il segno dell'onda è negativo grazie a questa trasduzione che è puramente fisica cosa riusciamo a fare riusciamo ad avere un sistema appunto fisico che una qualsiasi grandezza che vogliamo misurare la trasduce in un segnale elettrico in questo caso è il piezo elettrico avrà la capacità di produrre un segnale in tensione poi abbiamo tanti tipi di trasduttore appunto il microfono vedete questo il piezo elettrico capacitivo capacitivo al contrario la membrana quando viene ad essere colpita da un audio quindi da una compressione dell'area modifica la capacità dell'esterno perché in questo caso il microfono capacitivo avrà anche una sua alimentazione esterna e grazie alle varie di capacità produrrà quindi una variazione sempre di un segnale chiaramente noi in questo corso non è che esploreremo questa parte qua questa parte quale abbiamo scontata nel senso che quando compriamo un sensore e questo è fatto ad hoc per produrre quella grandezza quindi ci fidiamo diciamo così non è che facciamo la parte ingegneristica di sensing quello che ci interessa capire la catena che segue dopo perché lì magari nella programmazione o nell'utilizzo di questi sistemi microfabbricati avremo la necessità di capire come funziona questa questa catena magari per intervenire una volta che il segnale fisico è stato trasdotto in qualche modo è probabile che alla grandezza che noi vogliamo misurare si sovrappongano degli rumori il classico rumore che ci sarà sempre il senso è un termico il volete nel fatto che la memoria è soggetto a un calore è una temperatura non nulla fosse allo zero kelvin non avrebbe chiaramente rumore termico del numero e terzo dovuto al fatto che le molecole si muovono le molecole di cui è fatto la vostra membrana si muovono per rumore per il fatto che hanno una temperatura diversa dallo zero kelvin e muovendoci chiaro che produrranno una perturbazione del sistema e quindi genereranno dei finti dei finti segnali che non sono relativi al fatto che la grandezza che vogliamo misurare sta davvero cambiando ma vedete qui tutto questo rumore che si sovrappone alla curva è semplicemente un rumore che noi non interessa perché non è un rumore reale non è un segnale reale è un qualcosa che sporca la nostra curva e quindi sicuramente dopo la trasduzione servirà una fase di condizionamento del segnale fase di condizionamento è ancora una fase normalmente che avviene in hardware non parliamo di software qua la fase di condizionamento del segnale chi la fa di nuovo si produce il se vuoi comprate un sensore digitale dentro c'è già tutto questo c'è sicuramente la trasduzione il condizionamento che vuol dire applicare un filtro un filtro fisico nel caso in circuito ad esempio di filtraggio in questo caso è un filtro passo basso vedete che ha rimosso tutte le oscillazioni ad alta frequenza e rimane l'oscillazione principale condizionare non vuol dire semplicemente filtrare ma vuol dire anche ad esempio amplificare dei millivolt o anche dei micro volt che sono dei segnali davvero difficili da trattare per un sistema a calcolo numerico quindi sarà necessario anche presso e volentieri introdurre un amplificazione ecco quindi che questo stadio ad esempio uno stadio che sarà alimentato quando noi compriamo un senso un sensore digitale per vari motivi sensore digitale avrà sempre un pin di massa e un pin di alimentazione che è il suo nome che si chiama VCC quindi è il pin 3x3 perché perché questi stadi di filtraggio e amplificazione avranno sicuramente un'elettronica interna che avrà un'ambiente di alimentazione siamo ancora nel campo dell'elettronica analogica però eh tutti i circuiti analogici di filtraggio e amplificazione bene questo eh quest'altro ehm stadio di conversione analogico digitale invece può essere interno al sensore che abbiamo comprato ad esempio i sensori che useremo nella Raspberry Pi o nelle SP eh sono di due tipi o segnali con il convertitore analogico digitale interno e quindi escono già di anche gli valori quindi sono molto facili da utilizzare per ehm il programmatore oppure semplicemente termine il sensore finisce qua è già condizionato fornisce un segnale analogico e noi lo dobbiamo convertire sulla piattaforma ma la conversione analogica digitale immagino l'abbiate già incontrata nel vostro percorso di studi vedremo di ricapitolare velocemente si basa su di nuovo un sistema hardware in grado di in un segnale elettrico alla fine quello che fanno i traduttori è questo spesso e volentieri serve un condizionamento condizionamento vuol dire come vi dicevo probabilmente amplificare rimuovere segnale e ancora siamo nel caso dell'analogico per arrivare finalmente alla DC cioè l'analog digital converter che va proprio a fare questa conversione dall'analogico al digitale e ehm la caratteristica appunto di questi trasduttori come ho cercato di dirvi è che le caratteristiche interne elettriche si modificano in base al senso al al il microfono è in grado di ehm cambiare il proprio voltaggio seppiazio elettrico in base alla attrazione di questa nuova che questo riceve una fotoresistenza è in grado di variare la potenza interna in base alla luce che la sensori tipo microfoni capacitivi modificano la propria capacità in base alla onda d'urto che lo riceve gli schermi touch sappiamo essere capacitivi no sappiamo che vuol dire che la capacità del schermo interno per tutti dei modificati quando voi fate tap col dito e quindi siamo in grado di capire dove abbiamo premuto ehm i sensori più semplici al mondo sono quelli che costano davvero poco sono i termini le resistenze termiche cioè quei quelle resistenze che cambiano la temperatura cambiano la loro resistenza interna a base della temperatura e sono dei dei dei misuratori di temperatura davvero semplici davvero poco costosi e questo lo sperimenteremo le esercizazioni con raspberry o con l'SP vedremo proprio che questo sistema analogico in base alla temperatura in qualsiasi popolo cambia la resistenza con la legge di ohm calcoliamo la resistenza e siamo in grado di ridurre la temperatura qua c'è un piccolo elenco di diversi trasduttori utilizzati nell'ambito del dell'IoT ecco noi abbiamo parlato di sistemi in grado di misurare la temperatura oppure il suono ma ci sono un una grande famiglia di tutti i sensori trasduttori in grado di misurare le forze e tutta la parte piezza elettrica chiaramente in grado di misurare forze e tutte le celle di carico se non avete mai sentito parlare di cella di carico le celle di carico si basano sul piezza elettrico la cella di carico è quel sensore in grado di misurare il peso no il carico la forza e a cui è sottoposta le celle di carico dell'industria sono usatissime perché intanto si usano come bilanze semplicemente no cella di carico sotto un piano ti dà il peso quindi molte bilanze anche le bilanze che abbiamo a casa per pesarci la mattina hanno delle celle di carico più elettrica che cambiano appunto la tensione in base al piano al peso che sono sottoposte addirittura le celle di carico sono dei cristalli quindi non si muovono minimamente sono proprio dei cristalli in base al peso che ci mette il cristallo che è una struttura geometrica subisce una forza non si muove niente proprio non c'è movimento subisce una forte questa porta tra l'altro tenere per città poi ci sono anche quelli che dici tu che sono dei film invece sono dei film e quelli si possono si piegano davvero e al suo interno c'è un che se le è quindi in base alla pressione di queste cose producono un una variazione nel nell'ambito della tensione vanno molto di moda ad esempio nei sistemi negli studi medici dove si misura la postura e il modo di camminare sono proprio dei tappeti che è elettrici che tu non lo hai sceglie a legare nel pavimento tu ci cammini sopra e praticamente si riesce a capire come il piede pozzo per terra mentre cammini perché essendo tutto più elettrico se tu il piede no lo poggi male un po da una parte il gara trittare più pressione rispetto all'altro modo e quindi le celle da quella parte avranno un peso maggiore e quindi sono davvero molto diffusi questi sistemi di forza e sono poco costosi bello quello perché il piazza elettrico è un cristallo costa davvero poco non è sintetico un cristallo che si trova in modulo per tornare all'industria i sistemi di posizionamento sono fondamentali per ad esempio tutte le macchine controllo numerico che hanno braccia eccetera sistemi che si muovono per capire come ognuno di questi è posizionato servono dei sensori di posizionamento che sono dei micro switch quindi quando arrivi a attivare lo switch praticamente parte da uno 0 1 oppure sistemi a giroscopio o sistemi a encoding di spostamento tutti sistemi molto usati nell'industria senza i quali le macchine controllo numerico oggi non lavorerebbe e poi cosa abbiamo ci abbiamo gli acceleranti accelerometri che troviamo negli smartwatch nei smartphone il giroscopio lo troviamo anche negli smartwatch e gli smartphone i pendoli sono meno meno utilizzati però sono tutti sistemi in grado oggi di misurare e anche qui i costi sono bassissimi grazie alla tecnologia messo un accelerometro non salvato era complicato e il bello della tecnologia ma non è solo che ha ridotto i costi ha ridotto in maniera fortissima il rumore di fondo perché il sistema è piccolo e il soggetto al rumore e interferenza come vi dicevo prima voi pensate un accelerometro che è costituito da 20 grandi di materie di 20 grammi quando la materia è soggetta a variazioni di temperatura a tutti questi mole e collettivi però se costituita da un microgramma di materia un anno grande perché sono molto molto ridotte dovute alle interferenze esterne quindi sensori mens hanno ridotto praticamente il rumore di fondo quindi nel risultato di fare adattamento l'amplificazione invece integrata basandosi su una massa minimale chiaro che poi dovrà amplificare il segnale per poterlo leggere l'ultima parte forse meno scontata di sensing è la parte che invece va a fare sensi di un bel e niente questo anche interessante una classica un'antenna è qualcosa che ci dà un po di talità per ricevere ma siccome l'antenna che soggetta in un campo magnetico soprattutto se risuona una certa frequenza è in grado di produrre la tensione relativa al segnale che riceve è a tutti in effetti un sensore vi dicevo poco tempo fa avevo indagato esistono tantissime applicazioni per smartphone per un altro tempo per capire l'inquinamento l'entromagnetico punto perché con la si usa l'antenna wifi per fare una scansione delle reti che troviamo che si chiede il la potenza in di b di ricezione fa la media dice che in questo momento il mio smartphone è sottoposto a questa quantità di onde elettromagnetiche nella frequenza un ipad chiaramente che la tele è fortemente risonante in quel caso di altre frequenze diverse quelle non le capta però un sistema di trasmissione ricezione come un'antenna può essere tranquillamente usato come un sensore e poi ci sono sensori degli effetti come l'effetto all sensori magnetici bene tutta questa grande famiglia di sensori la possiamo trovare nella io ti la io ti può lavorare con ognuno di questi ma al di là della tipologia di sensore con cui abbiamo a che fare a noi interessa sapere appunto la catena successiva al traduzione perché la traduzione avviene maniera spontanea da questo sensore arrovo bene e la parte di condizionamento come vi dicevo prima ha essenzialmente 3 ha essenzialmente tre attività al suo interno quella di fornire il trasduttore power quindi dell'energia in caso dovesse servire pensate ai microfoni qualcuno di voi se un po si è un po lavorato nell'audio eccetera ci sono i famosi microfoni con la phantom avete sentito dire la phantom che cos'è e questi sono microfoni capacitivi molto sensibili si usano appunto nel nell'ambito concerti musica eccetera e questi microfoni hanno bisogno di un'alimentazione per funzionare se non sbaglio 12 volte un'alimentazione anche abbastanza tosta ecco mi sbagliavo quindi 48 volte comunque è una dimensione abbastanza alta bisogna di eccitazione ma sono microfoni davvero molto sensibili e donna dei microfoni che funzionano benissimo nel campo appunto dell'audio e quindi spesso e volentieri la parte di condizionamento necessita anche di fornire energia in questo caso questo caso serve per eccitare la membrana del micro servirà per amplificare con abbiamo detto servirà come sistema di filtraggio non ultima questa parte qua meno interessante che quella di fare far sì che il segnale in uscita merci con delle specifiche poi dello stadio successivo della catena che ne so se la dc successivo lavora fra tre volte zero e il singolo stadio di condizionamento deve far sì che lo stadio precedente prima della dc forniva valori di per fare match semplicemente la dc il concetto è che dopo il filtratto ci sia una modificazione perché ho bisogno che il rigeneramento di questo trasduttore produca un valore all'intervallo più più di più di amici sia in grado poi di campionare agevolmente quel valore facciamo un ripasso perché immagino come vi dicevo che sicuramente la conversione logica digitale nel vostro piano di studi l'avete incontrata e credo che chi ha studiato più o meno l'abbia fatto in elaborazione finale di pagine quindi diciamo facciamo semplicemente una carrellata insomma di queste informazioni per ricordarle ma sappiamo che la conversione a dc al suo interno segue ulteriori step successivi si parla proprio di sistema sampling e gold nel senso che c'è una prima parte che va a fare il sample quindi della della nostra way form che è la nostra curva analogica il sampling avviene ad una frequenza anche qui la frequenza vedremo può essere variabile nel sensore che andiamo ad affittare oppure può essere una frequenza imposta internamente non modificabile spesso e volentieri da il programmatore invece anche la capata la possibilità di scegliere e quella volta in cui utilizzato una dc esterno sicuramente lo potete o lo dovete configurare quindi avrete la capacità di avere una frequenza di campionamento più o meno rapida la quantizzazione cioè il numero di bit che andiamo ad associare ad ogni ogni step del dell'asse del valore del nostro del nostro segnale anche qui spesso e volentieri programmabile possiamo andare a scegliere un livello di quantizzazione più o meno alto in base di che gli forniamo e il solito se il solito tre dos no a frequenze alte quantizzazioni alte vuol dire produrre una grande quantità di dati perché chiaro vuol dire che io campiono a frequenza molto rapide o tanti dati al secondo c'è la quantizzazione spinta c'è tanto i bit per sample allora è chiaro che anche qui produrrò una grande quantità di dati e il coding alla fine è quello che ci fornisce direttamente la stessa di biste alla valle di questo sistema sappiamo come scegliere il sampling rate l'abbiamo abbiamo detto più volte non deve essere troppo troppo piccolo perché altrimenti non siamo in grado di ricostruire con fedeltà la curva ma attenzione anche non esagerare perché nella iu t non è che spariamo sempre il massimo la dc sparare il massimo la dc vuol dire che cosa vuol dire produrre tanti dati consumare tanta energia avere poi tanta banda magari per trasferire i dati quindi il programmatore deve cercare di lavorare nel migliore dei modi per andare a settare questi parametri in modo tale che da non esagerare per non sprecare le solite risorse la cosa giusta è stare al limite del teorema che noi ormai abbiamo sentito più volte crema di scena nei questi che dice che per campionare in maniera corretta è sufficiente andare a campionare ad una frequenza che è due volte la frequenza massima del segnale che vogliamo lanciare quindi se noi vogliamo analizzare facciamo finta che ne so l'audio vocale sappiamo che la voce umana sta tra i 20 e i 20 killers per non perdere niente stare sul sicuro facciamo due per venti e siamo 40 campionatori audio fedeli vanno a 44 kg fare di più non ha tanto senso consumiamo energia consumiamo memoria banda e via dicendo addirittura questa che conosciamo essere la frequenza audio è quella che si mantiene per avere fedeltà nei cd perché se andiamo in un telefono lo smartphone sicuramente poi faccio le comunicazioni ti ricorderai quando parliamo da più gli 8 kg perché tanto lì dobbiamo distinguere quello che ci dice l'altro non è che dobbiamo sentire tutte le frequenze della sua voce quarte bella quarte dolce e quindi riduciamo notevolmente la frequenza ridurre la frequenza ripeto vuol dire produrre meno dati consumare meno energia e in caso della telecomunicazione avere domanda in avrò quindi non saturiamo la banda e questa è importante per chi fa iuti per tutti i motivi che dicevamo prima stare su questo livello è fondamentale esagerare non ha senso oggi è facile esagerare perché non è facile magari facciamo il progettino per misurare la temperatura in casa nostra e anche la 100 kg capite che non ha senso la temperatura ci conviene campionare una frequenza molto molto più bassa la risoluzione è stessa cosa per la risoluzione è il numero di bit assegnati ad ogni step vi dà che cosa vi dà la risoluzione grandi tanti tanti bit siamo e più ampio sicuramente il range che possiamo andare a esplorare con uno step size costante viceversa se il range è fisso aumentare il numero di bit vuol dire ridurre la step size quindi avere una risoluzione molto molto più alta anche qua molti adc sono programmabili configurabili se mischiamo la nostra temperatura può darsi che invece di 12 bit ce ne bastano 8 per intratura della stampa sono considerazioni che è fondamentale fare se andiamo invece a misurare e ne so una variazione dell'onda elettromagnetica su un'antenna e lì che frequente sono rapidissime i rendi sono ampi ma riciclumente nelle tutti i 12 bit dipende da cosa vogliamo fare poi chiaramente questa è la conversione diretta dal tensore nel nostro step poi cosa ce ne facciamo di questi bit dipende dal nostro foco nel senso che noi possiamo anche campionare un'antenna al massimo della frequenza e al massimo dei bit e ottenere un risultato poi questi risultati internamente nel nostro device all'edge ci conviene per fare un pre process in del tipo io campiono per tre secondi tutti questi dati poi lì meglio e io prendo un valore unico da mandare in cloud piuttosto che mandare tutti e dipende poi anche dall'applicazione se è sufficiente sapere valore meglio è chiaro che se un telefono comincia a fare upload download e non essers poi ti cambia la tutta la banda dovuta al fatto che gli stia trasferendo informazione ma magari a me basta sapere un inquinamento medio nell'arco di un secondo e quindi tutti questi dati che ho poi di meglio e non sto a trasferirli o a spararli bene e qui vediamo un piccolo che sta di classico della iot dove stiamo lavorando con una resistenza termica e in questo caso una resistenza termica va in qualche modo condizionata nel circuito e questo è ciò che avremo sulla berri file da preimpostato o sulle sp 3286 che potete portare a caso nel senso che la resistenza termica è questa che è una resistenza come indicato dal valore che una valenza variabile che varia al variare della temperatura con il soggetto ok per poter misurare con una dc il bar la variazione di questa resistenza dobbiamo condizionare un po la resistenza con un piccolo circuito elettrico in questo caso la resistenza la mettiamo sulla massa questa resistenza variabile la terza resistenza termica alla quale poi mettiamo in serie un'altra resistenza questa volta direzione portato che sceglieremo in maniera opportuna alla quale al capo ulteriore della quale colleghiamo la nostra alimentazione alimentazione vcc su raspberry pi o su esp e 3,3 volte quindi se aveva 3,3 volta questa parte e 0 4 che abbiamo la massa da questa parte come facciamo misurare la variazione di questa resistenza questa di spesa varia nel tempo in base alla sua alla temperatura questa posta bene noi con il canale adc che in grado di campionare la la tensione non l'ho detto prima ma gli analogo digital converter che usiamo su questi dispositivi misurano la tensione non la corrente ma la tensione quindi valutano il voltaggio a rispetto alla massa di un pin da noi di nostro interesse benissimo e in questo caso noi monitoriamo la variazione nel tempo di questo pin di questa tensione e questa tensione chiaramente è una tensione che sarà proporzionale al valore di queste due resistenze perché questo diventa un partitore resistivo che in base appunto ai valori rispetto relativi di rt e rb mi dà la tensione in c ok e come secondo la legge di ohm come va la nostra vt cioè la tensione di riferimento fare secondo questa formula che è la vcc è quella imposta che è costante 3,3 che è moltiplicato per rt fratto rt più rb questa semplicemente la formula di un partitore resistivo cosa conosciamo di queste vcc la conosciamo perché imposta 3,3 rb la conosciamo perché la mettiamo noi nel circuito e quindi noi possiamo calcolare la resistenza rt in questo modo vcc meno vt rb per tutti uno sull'altro questo lo faccio ogni volta che noi vogliamo uscire la temperatura esatto perché poi ancora non c'è una altra temperatura noi siamo arrivati a conoscere rt rt è questa rischietta variabile che dipenderà poi dalla temperatura cui quella quella materia che si propone noi misuriamo solo vt ora la di perché il nostro adc misurano la tensione premio dobbiamo tutti e questa tensione la campioniamo una certa frequenza la visualizziamo eccetera però la dc ci dice ok vt è 2,6 vol cosa ci facciamo così 2,6 volta noi serve conoscere rt che è quella grande resistenza variabile rb la diamo scelta noi 2 kg 3 kg dipende appunto come vogliamo creare questo partitore resistivo vcc è data nel senso che la verifari o esp funzionano internamente 3,3 volte diamo quella a questo punto noi sappiamo istante per istante il valore di rt una volta che abbiamo semplicemente misurato vt perché l'unica cosa che noi misuriamo è vt vcc è data rb è dato ecco che possiamo conoscere rt ok cosa ci facciamo poi con quel valore con quel valore servono delle curve che normalmente queste curve che legano la resistenza alla temperatura dell'ambiente queste curve normalmente sono date nel detasheet del sensore che conferiamo la resistenza termica che abbiamo visto prima che costa 8 centesimi 5 centesimi di euro aprite il suo detasheet e trovate la relazione che lega la temperatura alla resistenza interna di questo sistema e normalmente non è lineare questa questa relazione non è lineare essenzialmente perché non è lineare la dinamica della materia di cui è fatto questo sensore ma a noi poco importa che non sia lineare perché una volta che ci hanno fornito la curva noi cosa facciamo abbiamo rilevato dall'equazione precedente un valore di resistenza andiamo a vedere sulla curva a che temperatura corrisponde certo sarebbe più semplice avere una formuletta no alcuni alcuni sensori sono stati lineare utilizzati anche grazie al fatto che dentro hanno sistema di adattamento e quindi ci forse si danno la formula sensori più economici spesso e volentieri ci danno una curva e questa curva come la utilizziamo all'interno del network device e di solito viene utilizzata come look up table quindi c'è una tabella salvata in memoria che noi precarichiamo che ci dà appunto l'equivalenza quindi quant'è la tua resistenza 12 kg bene vado nella tabella e vedo che 12 kg corrisponde a 18 gradi quindi fornisco fuori di trattogrammi quindi anche il valore che è finito perché se dobbiamo avere una tabella si trova della tabella di lunga si prende più vicino più simile non ci possiamo fare altrimenti perché la tabella di look up poi dobbiamo fare un compromesso come la salviamo con che risoluzione e se abbiamo un mc quindi un microfono contro l'ora 4 kb non è che possiamo buttarci dentro 300 mila punti perché dopo sappiamo tutta la rampa e quindi di nuovo ci sarà sicuramente un trade off fra la risoluzione di rt che magari anche qui capite non avrà senso sparare una dc a manetta per avere rt a una risoluzione finissima se poi la mia look up table varia rt al decimo o al centesimo stiamo lì è inutile che io campione la resistenza al miliardesimo che poi sono a look up table al decimo devo scegliere per forza quello quello più simile e quindi buona notte però anche qui il che stadi che abbiamo fatto è un che stadi su una resistenza la temperatura ambientale temperatura ambientale cosa ci importa se sono 28 gradi più con la due 28 gradi che per la 26 cagli giugno a tre due 28 gradi mettiamoci anche il primo decimo no che può essere comunque interessante significativo una soluzione intermedia potrebbe essere assumere dei segmenti lineari lungo la curva se dice nicolò che tu dici facciamo rendiamo la cuba una spezzata forse questo che stai dicendo sì esatto quindi invece di considerare una curva facciamo una spezzata quindi mettiamo l'equazione di questo mettiamo un'equazione di questo primo segmento di quest'altro segmento di quest'altro di quest'altro e dice qui avremo 1 2 3 4 5 segmenti in questo caso quindi tu proponi esatto una cosa di questo tipo c'è comunque parecchio da fare anche qua alla fine se guardate dentro i sensori la maggior parte usano le look up table perché si decide la risoluzione il numero di punti e non bisogna fare nessun tipo di operazione qua bisogna anche fare operazione volta che tu sai la curva comunque è costituita da 6 lineare comunque c'è un valore fisso da sommare una moltiplicazione ogni volta fai somma moltiplicazione somma moltiplicazione e comunque tutti questi segmenti devi salvare la parte quanti sono ma ci sono tre segmenti che la mia curva effettivamente è ben rappresentata da un aspettata tre segmenti mi stanche bene ma se la curva fosse a una variabilità più ampia di quella che ho mostrato qui nel video se i segmenti cominciano a essere tanti e allora con le tante e vi dicevo sì la cosa che dice nicolò intelligente ma spesso e volentieri i sensori della io ti si basano su queste lucate più semplice e portabile non dovete fare delle grandi operazioni infatti sono una selezione andare a vedere chi approssimo meglio il valore che avete fornito se invece compriamo il sensore digitale che è già condizionato ad al suo interno la lucatevo tutto questo non lo facciamo perché noi andiamo semplicemente interrogati sensore digitale magari sulla porta il quadro c è un protocollo di comunicazione e mi si fornisce direttamente il valore della temperatura non ci dà il valore della tensione delle resistenze e quindi tutta questa parte ce la la bypassiamo essenzialmente perché è stata fatta da qualcun altro è stata interventata bene io adesso farei una pausa e poi invece parliamo del dello step opposto cioè la conversione da cioè da da digitale verso analogico per andare verso una situazione ok quindi interrompo metti in parma con i propri ma oggi allora ho riempito la legittura faccio vedere a tutti anche per la casa di il kit per le recitazioni da portare a casa che oggi porterà a casa uno vostro compagno allora chi dentro ci abbiamo chiesto una legittura use b dw bar i che e i e Walker amanza prто al ciro ma oggi stiamo chiaramente da folושéo noi e un tasto ci sono un po di sensori poi invece questo qui è l'esp 22 236 rivenderemo Allora, per le scatoline ci abbiamo visto questo che è un sensore digitale per temperatura e umidità, che comunica in quanto c'è, c'è anche la scatolina sotto i pizzi da collegare. C'è un led, un tasto, anche qui per fare reagire al tasto, e c'è anche data una fotoresistenza qua. La fotoresistenza che ci avverà, verrà compionata con un riportitore di resistenza, dal canale analogico, perché quindi ha già un ADC interno. Questo è semplice un solo canale, è il canale di ADC, quindi è da collegare. Quindi tutto questo sarà ciò che riceverà delle esercitazioni, di questo corso, dalla prima all'ultima. Quindi non rimane niente delle esercitazioni. Poi mi piace, per il vostro progetto, volete fare dei BUN, dopo di te, procurando un altro zapp, però è il progetto dell'armina e va di secondo tutto quello che stiamo qua. Io vedrò sempre in presenza, in tutto questo ce lo troverà. Eh, non devo scontrare, io. Non, non, devo scontrare, io. Non, non, non, non, non, non, non, non lo scontare, io. Non mi piace, io, non mi piace, io, non mi piace, io, non mi piace. Lui da casa si seguirà con questo, no? Ebbene. Quindi faccio il voglio da compilare. Qui c'è a me, io passo una fotoportia, la data, il sottoscritto e anche un documento di riconoscimento a Roma. E poi qui fai l'elenco delle cose che ti porti a casa, dove nell'elenco ci metti appunto Transferify Alimentatore, Shield, Autocostruito, e Shield Hat, H, A, P, sono queste, E, S, P, con 5 cose che vi insegnate. Poi dopo lo chiamiamo gli estè, ne basta una buona copia, e lo dovete, ah scusa, l'altro parametro che chiede è numero di mesi, quello Ferrari, prevede di tenerlo fino all'esame, quindi se dai l'esame nel primo appello, intanto magari scrivi fino a giugno, fino a luglio, ho detto bene, no, non ho detto bene, è un esame più da che si è astrali, io non sono citato pari settantane, che c'è l'operativo, tu dici, e allora no, in realtà già a gennaio, tu dovrai fare l'esame, quindi scrivi Marco, come se pari, no, scusate, perché c'è un po' di siti operativi, che c'è un po' di siti operativi, non ho fatto, se ho fatto una studentessa, c'è un po' di siti operativi, che viene assunta, vedi dopo, bene, allora dicevamo, iniziamo adesso con la seconda parte, che è la parte di attuazione, prima abbiamo visto come funzionava l'ADC, ora invece vediamo come funziona il DAC, e il DAC abbiamo detto essere l'opposto, perché partendo da un segnale digitale, quindi noi all'interno della nostra macchina abbiamo già un segnale digitale, vogliamo produrre in uscita un segnale analogico, perché magari questo segnale analogico ci serve per controllare qualche cosa, che può essere dare tensione a un motore, oppure a un sistema luminoso a intensità variata, tante cose, comunque quello che vogliamo produrre in uscita è un segnale analogico in tensione. Questo sistema, si chiama DAC appunto, è un sistema hardware, che viene ad essere o già presente sulla vostra board, oppure come una DC esterna, si conta e si collega al nostro sensore. Qual è la caratteristica di questo sistema? Il sistema è che fornendo un codice binario, che chiaramente all'interno della sua scala, costituisce un segnale, poi un valore di un segnale digitale, il nostro sistema, grazie internamente a diversi partitori resistivi che vengono attivati in base alla stringa binaria che ci forniamo, grazie a questi diversi partitori resistivi, attivandone quelli opportuni, si riesce a produrre un segnale in uscita, che poi è di solito amplificato per matchare il risultato finale, si riesce a produrre un segnale in uscita variabile, chiaramente è variabile a step, come potete immaginare, non è che varia in continuo realmente, però anche qui DAC performanti possono essere a 8 bit, 12 bit, 16 bit, 24 bit, e maggiore il numero di bit del sistema, e maggiore saranno il numero di step, e quindi saranno effettivamente dei sistemi in grado di fornire un segnale più simile a un segnale analogico reale. L'altra cosa fondamentale di questi oggetti è la frequenza con la quale riescono a imporre una variazione nell'uscita, e non è banale questo. La stringa che gli forniamo ci dice che è imposta questo valore, con quale frequenza lui riesce a farlo, cioè a modificare questo valore, dipende ancora una volta dalla sua architettura interna. DAC più costosi avranno la capacità di avere una frequenza di aggiornamento dell'uscita molto più alta, DAC meno costosi e molto più bassa. Anche qui però dipenderà dall'applicazione che dovete gestire, e quindi in base a quello che volete fare si sceglie normalmente il circuito DAC appropriato. Non è l'unico modo però per produrre un'uscita variabile di tipo passato, tra virgolette analogico, perché il DAC vuole fare quello, vuol cercare di produrre un segnale analogico, cioè che varia con continuità del tempo. Chiaro che non lo è, perché lo è a step, ma il DAC è un modo abbastanza preciso per farlo. Abbiamo però un altro modo, un'altra modalità, che è un po' meno precisa, però molto molto meno costosa, e la maggior parte delle architetture con cui lavoriamo nell'IoT a legge hanno sempre questa modalità, mentre il DAC non sempre è integrato. Te lo dico subito, su Raspberry Pi non c'è il DAC, su SP2286 non c'è il DAC. Se vi serve lo dovete acquistare esterno, come chip, collegare in quadro C e SPI, e avere effettivamente un DAC. Invece sia Raspberry Pi che ESP hanno la capacità di produrre un segnale variabile, grazie alla tecnologia PWM, che sta per Pulse with Modulation, cioè la modulazione d'ampiezza a impulso. Non so se ne avete mai sentito parlare, ci sono proprio dei pin di output che sono configurabili per lavorare in questo modo. Cosa fanno questi segnali? Questo modo è in grado, switchando il pin velocemente tra lo stato on e lo stato off, quindi il pin in realtà è in grado solo di fornire on-off, non è che fornisce qualcosa di analogico intermedio. Cosa vuol dire? Che nella vostra Raspberry Pi il pin o è a 0 o è a 3.3 volt, non può fare altrimenti. Quindi il pin può davvero fornire o 3,3 o 0, o 3,3 o 0, non può fare qualcosa di diverso. Ma grazie a questo sistema io posso produrre un segnale che nella sua media in realtà varia tra un valore 0 e 3,3 volt, ma nella media, non nel valore istantaneo. Cosa vuol dire nella media? Vuol dire che se io sono in grado di variare con una velocità molto rapida il segnale, vediamo con le slide successive, ecco, se lo posso variare in maniera molto rapida andando a giocare fra il rapporto del segnale alto con il segnale vuoto, cioè buchi e piedi, se la mia frequenza è molto elevata, in realtà il segnale medio che viene percepito all'uscita è qualcosa che varia al variare del rapporto tra pieni e vuoti. Per dirla velocemente, se io mantengo il segnale pieno, quindi alto, per 100 millisecondi, basso, per alto 100 millisecondi, il rapporto è identico, ottengo in uscita un valore medio che è la metà di 3,3 volti in media, perché il segnale sta x alto e x da 0, ok? E uscita in continuazione, quindi il suo valore medio è 3,3 fratto 2, ok? Perché? Perché ho ottenuto il rapporto on time e off time identico. La formula è molto semplice, quindi il valore medio, ricordiamoci sempre che è un valore medio percepito, perché in realtà il pin uscilla tra 3,3, 0, 3,3, 0. Il valore medio come si calcola? Si calcola semplicemente dal rapporto tra A, I e L, I e L, il periodo di I è di L, ok? Chiaramente L di solito è 0, ci porta da 3,3 a 0. Questo sistema è un sistema molto utile, perché? Perché a livello di hardware non c'è quasi nulla da svindere. Basta avere un pin di output che abbia la capacità di fare questo però molto rapidamente. Molto rapidamente ci parla almeno di 10 kHz, cioè 10.000 volte al secondo. Se abbiamo un pin di output in grado di fare questo, semplicemente vi dicevo, giocando fra i rapporti on time e off time io posso avere praticamente tutti i valori nell'intervallo 0, 3, punto 3. 0, chiaramente solo è sempre off, 3, 3 è sempre on, ma io posso avere tutte le medie al suo interno andando a giocare su questi valori. È chiaro che ciò che produco in realtà è un segnale quadro. Perché mi è utile spesso e volentieri in questo segnale quadro interpretato come media? Perché se io vario velocissimamente questo segnale e in uscita ho un sistema che lo percepisce che ha una sua inerzia, deve avere una sua inerzia di centro, c'è una sua inerzia allora in realtà percepisce la briglia. Cosa vuol dire una sua inerzia? Vediamo un led. Se io ci attacco un led e i led hanno una loro inerzia allora io cosa vedo? Vedo un led se lo metto a zero il led è spento se lo metto a 3,3 è acceso alla massima luminosità se faccio un periodo 50% on e 50% off fornisco al led qualcosa di medio che è 3.3 fratto 2 quindi 1,75 e quindi lui fa la luce più fiocca. Ma io mi ha detto che mi ha detto che mi ha detto che mi ha detto che mi ha detto ma diciamo che mi ha detto che mi ha detto che mi ha detto che mi ha detto che mi ha detto che mi ha detto che mi ha detto che mi ha detto però l'importante è che il sistema abbia un inerzia se c'è un inerzia allora funziona perché lui percepisce la media se non ha un inerzia invece lì fra l'inerzia dell'inerzia dell'inerzia dell'altro occhio anche l'altro occhio c'è un inerzia quindi noi vediamo non vediamo il led che blinka ma vediamo il led che è decisamente acceso a metà allora riusciamo a farlo nella formula D è il segmento on time vero? sì esatto noi parliamo anche il periodo diciamo siamo in grado di avanzare e abbassare media e quindi possiamo fare segnali diversi sì noi parliamo il periodo possiamo creare un segnale ricostruire un segnale che in realtà è quadrato però la sua media varia e quindi noi siamo in grado di gestire la media di questo segnale e ripeto se abbiamo un sistema con inerzia allora funziona se abbiamo un sistema che non ha inerzia in realtà noi il sistema con inerzia non da qua ok? la cosa fondamentale è avere quindi una frequenza abbastanza elevata e un sistema che è un sistema che abbia dell'inerzia e con i led ad esempio funziona sia l'inerzia del mafrocio per percepire eventi separati sia l'inerzia appunto del cristallo che c'è all'interno del led che comincia ad andare in conduzione non è che poi il tour smette immediatamente quindi abbiamo la capacità di generare una luminosità ad esempio intermedia e il vantaggio di questo sistema è che diventa un DAC che non costa quasi niente perché l'unica cosa che dobbiamo avere è un pin in auto per essere in grado di variare il suo stato molto rapidamente solo questo e vi dicevo tutti i sistemi le piattaforme che useremo ce l'avranno ecco qui c'è un esempio vedete se io ho appunto un rapporto di questo tipo leverage diventa quello se c'è un rapporto 50% leverage diventa 50% se c'è un rapporto dove l'ampiezza on è molto più alta la media diventa quella un condensatore che va a riempire quegli scatti rapidi quei transenti rapidi e sia la Raspberry Pi che le SP hanno un pin configurabile in questo modo e nelle esercitazioni vedremo proprio come sarà facile grazie anche alle librerie di Python che sono fornite diciamo così su questi strumenti vediamo come sarà facile usarlo e specificare con un parametro che è tra 0 e 1 il rapporto fra un'eo semplicemente non dobbiamo neanche metterci noi a scrivere un ciclo e a modificare il pin acceso-spento acceso-spento con una certa velocità perché grazie alle librerie di alto livello Python noi diremo accendi questo pin allo 0,6% e quindi semplicemente cambierà lui il rapporto tra lo stato acceso e lo stato spento ancora una volta questo switching così così rapido è possibile grazie alla micro fabbricazione di questi sistemi dei sistemi monoset perché appunto essendoci pochissima massa l'inerzia è veramente bassa e quindi è possibile generare questi impulsi a una velocità davvero sorprendente cosa ci si fa a parte fornire qualcosa di simile a un segnale analogico in realtà questi sistemi sono molto utilizzati nel gestione dei motori elettrici di oggi anche i motori passo passo sono quelli senza schede non so se avete metto a parlare di questi motorini sono dei motori che vengono ad essere proprio il loro protocollo di gestione è basato sulle onde quadre di questo tipo quindi grazie a queste onde quadre sarà possibile gestire i motori e controllarli esattamente la velocità di ossessione e questo è importante soprattutto nell'industria 4.0 cioè è importante governare questi motori e avere un controllo finissimo basta variare i rapporti tra le onde e avremo la capacità di dire velocemente appunto di impostare velocemente la velocità di rotazione di questi motori e quindi è davvero molto usato ecco perché si trova questo pin in tutte le architetture e per di più rispetto a un ADC costa un centesimo integrare questo in una macchina rispetto a un DAT scusate il numero di DAT mi è già bisogno che volevo vedere prima di tanti partitori resistivi attivabili internamente quindi è davvero ben più complicato ecco noi noi faremo questo useremo nelle nostre esercitazioni questo pulse width modulation per andare a diciamo ridurre la luminosità e quindi dimmerare si dice in italiano in maniera molto d'acquita a dimmerare un led cioè a farlo accendere a luminosità variabile ma chiaramente può essere usato anche per regolare il voltaggio qui vi faccio vedere che se io ho 12 volt in uscita posso ottenere 5 volt avendo un duty cycle cioè un rapporto tra off e on di 41.7 cioè basta cambiare il rapporto e via dicendo l'altra cosa che non vi ho detto in realtà sono molto utilizzati nel campo audio i pulse width modulation per produrre artefatti per produrre un po' di effetti sonori in uscita però noi insomma lo useremo essenzialmente la parte scusami sì anche tu noi per mantenere per avere delle temperature variabili invece di dargli anche quella ti dai corrente a manetta si accende al bestia ti dai zero non si spegne tu regoli tutti i sistemi basati su una buona inerzia tu pensa se della massa che si diventa incandescente non è che appena ritorno quella di zero gradi e quindi grazie a questo io la posso accendere a velocità sia a velocità e a potenze variabili poi in quel caso la stufetta ti produce anche di un elettromagnetico se ne vi dirò ma però questo lo bypassiamo noi ci concentriamo più sulle parti low power quindi noi lavoriamo sull'elettronica consumer che in realtà dove le potenze in gioco sono molto molto bassi infatti vi dicevo un vantaggio fondamentale di questo approccio è appunto essere un sistema low power il fatto che si possa fare switching molto rapido dovuto alla tecnologia microfabbricate e come vi dicevo prima abbiamo pochissimo energie da dissipare quindi queste porte sono effettivamente molto efficienti ecco vedete gli svantaggi sono la frequenza l'interferenza che possono produrre elettromagnetic noise che possono produrre spike di voltaggio quindi non desiderati quindi c'è scritto coste e complessità del circuito beh rispetto a un normale pin out si è più complesso ma non lo è quanto lo è un duck quindi se lo confrontiamo con un duck in realtà il duck costa molto di più però diciamo rispetto ai pin tradizionali on-off sicuramente la complessità aumenta bene passiamo abbiamo una domanda un semplice dimmer può essere costituito con il 555 sì diciamo anche lì il prezzo di questi chip è davvero basso quello è un esempio di esatto forse di provare nelle ceste quando vai alle fiere di elettronica ci sono quelle ceste così dove si parla di porti di archivio ci risuono sono i sensi è vero sono presti ormai non si parla più di un espresso unitario ma di porti a casa di porti a casa a peso secondo me non so se mi è mai capitato andare nelle fiere dell'elettronica ti danno le buste ci sono i sacchetti già preimpostati che ne so due che sono 100 che li prendono di 3 euro li porti a casa così ormai i prezzi sono effettivamente cose di altro tempo allora adesso esatto esatto adesso torno invece a caricare la nuova slide questa era la sì io ti voglio chiudere ecco abbiamo ancora un po' di tempo adesso sì sì a me sinceramente zoom non è che mi faccia impazzire vero che si usava meglio blackboard sì però non mi è mai piaciuto vabbè fatti quello allora adesso quindi passiamo alla parte di gestione dei dati visto che abbiamo parlato di sensori che producono un dato molto particolare no? perché come abbiamo detto prima la caratteristica è che avere un sensore che legge in continuo una grandezza fisica e lo trasduce in continuo produce un tipo di dato classico dell'IoT che è un tipo di dato che viene chiamato semplicemente da allora si parla di time series in italiano possiamo dire serie temporale che non è nient'altro che questa sequenza di valori che hanno un senso se associati a un time stamp cioè associati a un momento particolare in cui l'abbiamo registrato quindi è un'informazione fondamentale sapere a che ora a che minuto a che seconda di che giorno quel dato è stato registrato e normalmente sono delle serie temporali molto piene di informazione hanno un contenuto informativo altissimo una grande quantità di dati vengono prodotti hanno la caratteristica di essere immutabile cosa vuol dire immutabile se è una serie temporale e la temperatura non ha ormai la necessità di modificare la temperatura che ho registrato tre giorni fa perché per quel evento è caratteristico di quel momento di quell'istante che senso ha adesso andare a modificare quel dato quindi di solito sono immutabili perché riflettono lo stato di una cosa in determinato istante diversamente che ne so da un classico database che ne so una tabella una tabella regolazionale MySQL dove vado a fare le modifiche di un dato in qualsiasi momento una volta che il dato l'ho registrato io lo lascio così poi lo elaboro sicuramente lo posso elaborare cioè posso filtrarlo posso scalarlo ma non vado a modificare l'originale che senso ha l'originale l'originale è immutabile rappresenta una fotografia di quella grandezza in quel particolare stato quindi la caratteristica di immutabilità del dato è una caratteristica un po' particolare di queste serie temporane vengono scritte in app sapete cosa vuol dire in app si scrive sempre in seguito a ciò che esiste hanno un'alta capacità di essere compresse certo che hanno un'alta capacità di essere compresse pensate appunto alla variabile a una serie temporale che tra lo storage della temperatura in una stanza la temperatura in una stanza non è che varierà una frequenza altissima se io anche faccio un dato al minuto mi troverò spesso e volentieri ad avere tanti campioni simili uno dopo l'altro lo posso comprimere efficacissimamente alta precisione nel senso che come vi dicevo prima il sensore può avere una precisione altissima più o meno alta anche qui con il discorso che facemmo tempo fa i tag i metadati sono importanti perché anche qui sapere ogni serie temporale che io sto salvando con quale precisione il mio sensore l'ha prodotta se al decimale al centesimo è importante per fare successive elaborazioni l'altra caratteristica fondamentale è che non si guarda mai un solo valore perché ha poco significato queste serie assumono significato se ne guardiamo l'andamento del tempo come varia la temperatura nella giornata nel mese nell'anno come varia il consumo l'elettricità della mia lavatrice nell'anno nel mese nel giorno non vado sul termine di ok adesso consuma x va bene è importante sì ma non come te la spezzeremo quindi abbiamo la necessità di salvare delle informazioni un po' particolari all'interno di un database perché avremo un timestamp e il timestamp può essere interessante come valore assoluto proprio quindi voglio la data come c'è scritto qua l'anno la data il mese l'ora minuti secondi centesimi oppure potrebbe essere relativo non voglio metterci tutto l'anno ma ci metto semplicemente dal punto zero quanti millisecondi sono trascorsi però capite che il campo 1 è un campo un po' bastardello da elaborare da gestire poi ci sarà sicuramente il campo numerico double che contiene delle informazioni che ha la sua scala eccetera e poi ci possono essere dei tag dei tag affiancati di qualsiasi tipo numerici alfanumerici booleani e via dicendo bene gestire questo con un database relazionale non è la cosa migliore da fare perché lo storage sì io le posso fare lo storage tranquillamente con un relazionale ma poi andare a fare delle query temporali delle aggregazioni temporali diventa davvero complicato quindi non abbiamo una gran scalabilità basse performance per le operazioni di esempio di trasformazione se io dovessi dire ok fai la media sul minuto un database relazionale non è per niente facile e quindi cosa cosa è nato ormai da tempo sono nati dei database proprio fatti per le tue in serie che ci rendono facile il processing quindi ci rende facile manipolare filtrare aggregare mediare ecco fare il detrend sembra banale ma fare un detrend di una serie è una cosa semplice se la dobbiamo fare in un mysql o comunque in un relazionale detrend vuol dire togliere no il valore medio questo vuol dire fare il detrend io voglio togliere tutto il valore che varia a bassissima frequenza per esempio il valore medio per concentrarmi solo sulle minime oscillazioni questo vuol dire fare un detrend come faccio? non è una cosa semplice tutta la parte di processing delle informazioni eventuali previsioni ok io sono la mia time serie che mi dice questo voglio prevedere cosa accadrà nelle prossime x minuti prossime x ore ripeto serve un database fatto ad hoc vedete ce li ho il database fatto ad hoc in giù io ne sto parlando vi dico subito poi torniamo lì perché così per curiosità ecco se voi andate su un sito che si chiama database ranking non sarebbe mai conosciuto database ranking vi dice vi fa il ranking dei db noti in base alla popolarità l'utilizzo la stabilità l'importanza e se li filtrate per time serie database quello che tenete è questo quindi questo output che vediamo qua è stato fatto dal database ranking l'avevo fatto in aprile filtrando tipo di database time serie tipo di database time serie vediamo che al numero uno c'è influx db influx db è in cima alla classifica con uno score anche molto più alto rispetto ai suoi successori kdb plus prometheus graffite timescale db sono tutti database nati e utilizzati per serie sottra noi useremo proprio influx db nella nostra esercitazione per vari motivi uno è open quindi lo possiamo scaricare installare se lo volete installare su piattaforma lì banale precomandi esiste anche la versione on cloud già presente quindi senza doverlo installare possiamo fare login con un qualsiasi account gmail e abbiamo accetto a tutte le funzionalità di intubb in una nostra estanza dedicata a noi con l'unico svantaggio che essendo gratuito ed essendo on cloud quindi non gestiamo la idea della macchina elimina i dati dopo 30 giorni stanno finendo il tempo di 30 giorni che se volete fare una demo va benissimo se vi fanno un progetto serio possiamo pensare che dopo i dati più vecchi di 30 giorni vengano eliminati però è il più potente come vedete e questo sito di ranking è molto bello potete fare il ranking di tutti i db se vi interessano io qui l'ho filtrato per il time series e vediamo che il database che useremo noi è quello effettivamente più popolare più performante per gestire le scele didattiche ha un suo linguaggio l'interrogazione di prossimo e questo lo vedremo quando faremo le esercitazioni e nella lezione successiva che sarà giovedì adesso riprendiamo invece dovevamo arrivare perché sarà un 5 live no? il linguaggio è un 5 live lo vedremo no ma non è un linguaggio strambalato è una cosa strana ha in più ha questo operatore molto utile di piping quindi tu fai una query pp puoi mettere in seguito in conseguenza tante query quindi il risultato della una viene poi processata dalla query successiva con la pipe la pipe quella che conoscete in link la output di un comando che viene dato in input ed è molto utile perché puoi fare delle query complesse e fare tanti processing prima calcolo la media poi pipe fa più detrend pipe aggrego tante cose lo vedremo in seguito è davvero performante un sistema simile per utilizzare il pipe se sei abituato a usare la pipe insomma ti viene viene molto naturale ti viene molto bene ma dicevamo quindi che questi sistemi i processing dei dati sono davvero molto potenti e vi danno la possibilità adesso abbiamo quasi finito il tema ma lo diciamo di fare intanto due tipi di processing il processing di tipo batch quindi offline una volta che hai salvato le tue le tue tracce puoi lavorare su quelle che hai memorizzato andando a fare il raggruppamento dei dati con un certo criterio quindi abbiamo una finestra che scorre diciamo così sui nostri dati facciamo il processing e il processing stesso poi il risultato del processing stesso può diventare una serie temporale perché in realtà vedremo sarà facile anche fare questo cioè da una serie temporale fatta in un certo modo creare un'altra e salvarla sempre nel db con un nome diverso quindi avremo la produzione e questo ad esempio il processing online e offline scusate per quanto riguarda invece il processing online la rima bulger quando faccio lì la butterei via online invece è in tempo reale e in questo caso i dati vengono processati mentre arrivano al nostro db come scritto qua ogni dato è un nuovo evento quindi il database reagisce all'evento ho appena entrato un dato scrivete il codice per cosa fare quando arriva quell'evento che può essere quindi processare una finestra processare il solo dato oppure semplicemente aggiungerlo da qualche parte ma vi dà la possibilità quindi di fare due tipi come vi dicevo l'offline e l'online dove l'online vedetelo come un trigger arriva il dato ok cosa faccio adesso e prendi e scrivi il tuo microcodice per andare a fare qualche cosa che può essere che è semplicemente un allarme pensate a un db di questo tipo se voi mettete un allarme come un'inizio se la temperatura in casa e le ore 18 gradi manda via mail ecco che il codice online semplicemente manda una mail uguale a che in casa tua fa freddo e quindi oppure accende automaticamente a riscaldamento bene direi che per oggi finiamo qua e la ultima volta che sarà giovedì invece vediamo questa cosa e invece martedì prossimo faremo una prima esercitazione quindi martedì prossimo siamo qua ah una cosa per chi invece non è qua su blended condividerò una macchina virtuale da scaricare quindi noi qui la verificia scolizione dalla macchina virtuale stalla la macchina virtuale con linux un'unico dove c'è tutti i tool che useremo noi quindi c'è e poi c'è la prima volta dobbiamo la verifare la prima volta dobbiamo la verifare però comunque invece di scaricare tutta macchina virtuale invece di usare tutti i tool per sviluppare con RSI però che la Raspberry Pi non vi serve niente perché c'è già tutto dentro la Raspberry Pi comunque bisogna che io mi ricordi di scaricare tutta macchina virtuale se no quando sarà ora non ce l'avete ok cioè אל che direz potrze